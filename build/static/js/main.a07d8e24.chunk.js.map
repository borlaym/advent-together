{"version":3,"sources":["utils/getCurrentDay.ts","utils/api.ts","utils/userId.ts","components/CalendarDay/CalendarDay.tsx","components/UploadForm/DaySelector.tsx","components/UploadForm/ImageUploader.tsx","components/UploadForm/createPreloadPromise.ts","components/PresentListItem/PresentListItem.tsx","components/DataProvider/DataProvider.tsx","components/Modal/Modal.tsx","components/UploadForm/Button.tsx","components/UploadForm/UploadForm.tsx","components/Presentation/Presentation.tsx","components/CalendarPage/CalendarPage.tsx","components/Home/HangingItem.tsx","components/Home/hanging-christmas-tree-clipart.svg","components/Home/simple-christmas-bulb-clipart.svg","components/Home/Home.tsx","App.tsx","index.tsx"],"names":["enforceDayRegexResult","exec","window","location","search","enforceDay","Number","getCurrentDay","dayInDecember","Math","floor","Date","now","ROOT","getJson","path","fetch","mode","credentials","headers","String","then","response","json","catch","err","console","error","post","body","method","JSON","stringify","res","createAndGetUserId","calendarId","data","rawData","localStorage","getItem","parse","newId","uuid","setItem","DOOR_OPENING_DEGREES","Icon","styled","span","DayContainer","div","props","isOpen","dimensions","css","DayNumber","Door","openingDegree","doubleDoor","Inside","Present","colorValues","green","darkgreen","blue","darkblue","red","darkred","purple","yellow","beige","CalendarDay","dayNumber","isSelected","color","icon","onClick","handleClick","useCallback","canBeOpened","doorOpeningDegree","door","style","backgroundColor","id","Container","Day","PresentsIndicator","DaySelector","selectedDay","numberOfPresents","onChange","minPresents","reduce","acc","n","range","map","i","indicator","min","ceil","Array","fill","_","className","supportedMediaTypes","thumbnail","label","DeleteButton","ImageUploader","onImageAdded","onImageRemoved","image","useState","isLoading","setIsLoading","stopPropagation","event","startUpload","e","target","files","length","file","item","value","fd","FormData","append","log","src","public_id","Promise","resolve","reject","img","Image","complete","addEventListener","Error","handleRemove","preventDefault","backgroundImage","type","display","accept","join","ListItem","li","InlineButton","button","PresentListItem","present","onDelete","deleteItem","day","href","content","reducer","prevState","action","calendarData","presentsData","myPresents","presentToRemove","find","p","filter","initialState","StateContext","React","createContext","DispatchContext","StateWrapper","useReducer","state","dispatch","Provider","children","Background","Modal","Button","UploadModal","UploadWrapper","Title","h1","Text","Textarea","textarea","Label","Nameinput","input","SubmitButton","ErrorDisplay","CloseButton","Row","ListHeader","h3","List","ul","UploadForm","defaultSelectedDay","onClose","useContext","setSelectedDay","getUserName","username","setUsername","setImage","userId","contentRef","useRef","setError","handleNameChange","handleDayChange","$uploaderArea","document","getElementById","scrollIntoView","behavior","handleSubmit","current","uuidV4","uploader","uploaderName","name","saveUserName","handleDelete","confirm","presentId","handleImageAdded","handleImageRemoved","resetError","useEffect","rows","ref","onInput","placeholder","htmlFor","sort","a","b","SlideShow","Slide","Presentation","presents","Wrapper","Description","section","CalendarPage","useParams","isUploadFormOpen","setIsUploadFormOpen","isPresentationOpen","setIsPresentationOpen","currentDay","block","closeUploadForm","openUploadForm","closePresentation","handleDayClick","clickedDayNumber","setTimeout","calendarName","to","HangingItem","inForeground","_extends","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","_ref3","x1","x2","y2","_ref4","d","_ref5","_ref6","_ref7","y1","gradientTransform","gradientUnits","offset","stopColor","_ref8","SvgHangingChristmasTreeClipart","_ref","svgRef","title","titleId","xmlns","xmlSpace","x","y","viewBox","ForwardRef","transform","width","height","SvgSimpleChristmasBulbClipart","BodyBackgroundOverride","createGlobalStyle","Page","TextContainer","Input","LandingPage","navigate","useNavigate","setName","showTitleForm","setShowTitleForm","createCalendar","calendar","enableUploadForm","left","animationDelay","App","element","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a07d8e24.chunk.js","sourcesContent":["const enforceDayRegexResult = /forceday=([0-9]+)/.exec(window.location.search);\nexport const enforceDay = enforceDayRegexResult ? Number(enforceDayRegexResult[1]) : null;\n\n/**\n * Returns a number that is the day difference between now and 2021.12.01\n * Negative number means it's not december yet, positive means the day in december or after\n * Uses force parameter as well\n */\nexport function getCurrentDay(): number {\n  const dayInDecember = Math.floor((Date.now() - Number(new Date('2021.12.01'))) / 1000 * 60 * 60 * 24);\n  return enforceDay !== null ? enforceDay : dayInDecember;\n}","import { enforceDay } from \"./getCurrentDay\";\n\nconst ROOT = process.env.NODE_ENV === 'production' ? 'https://adventinaptar.herokuapp.com/api' : 'http://localhost:9000/api';\n\nexport default function getJson<T>(path: string): Promise<T> {\n  return fetch(ROOT + path, {\n    mode: 'cors',\n    credentials: 'omit',\n    headers: {\n      'x-force-day': String(enforceDay)\n    }\n  })\n    .then(response => response.json())\n    .catch(err => console.error(err));\n}\n\nexport function post<T>(path: string, body: any): Promise<T> {\n  return fetch(ROOT + path, {\n    method: 'POST',\n    body: JSON.stringify(body),\n    mode: 'cors',\n    credentials: 'omit',\n    headers: {\n      'Content-Type': 'application/json',\n      'x-force-day': String(enforceDay)\n    }\n  })\n  .then(res => res.json())\n}","import { v4 as uuid } from 'uuid';\n\nexport function createAndGetUserId(calendarId?: string): string | void {\n  if (!calendarId) {\n    return undefined;\n  }\n  const rawData = window.localStorage.getItem('userTokens');\n  let data;\n  try {\n    data = JSON.parse(rawData || '');\n  } catch (err) {\n    data = {};\n  }\n  if (data[calendarId]) {\n    return data[calendarId];\n  }\n  const newId = uuid();\n  data[calendarId] = newId;\n  window.localStorage.setItem('userTokens', JSON.stringify(data));\n  return newId;\n}\n\nexport function getUserName(calendarId: string): string | void {\n  const rawData = window.localStorage.getItem('userNames');\n  let data;\n  try {\n    data = JSON.parse(rawData || '');\n  } catch (err) {\n    data = {};\n  }\n  if (data[calendarId]) {\n    return data[calendarId];\n  }\n  return '';\n}\n\nexport function saveUserName(calendarId: string, name: string): string | void {\n  const rawData = window.localStorage.getItem('userNames');\n  let data;\n  try {\n    data = JSON.parse(rawData || '');\n  } catch (err) {\n    data = {};\n  }\n  data[calendarId] = name;\n  window.localStorage.setItem('userNames', JSON.stringify(data));\n}","import React, { useCallback } from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { getCurrentDay } from \"../../utils/getCurrentDay\";\r\n\r\nexport const DOOR_ANIMATION_LENGTH = 800; // in ms\r\nconst DOOR_OPENING_DEGREES = { // in deg\r\n  open: 70,\r\n  closed: 0,\r\n  opened: 5,\r\n  unopenable: 35\r\n};\r\n\r\nconst Icon = styled.span`\r\n  font-family: Advent;\r\n  font-size: 140px;\r\n  text-shadow: 2px 2px 5px rgba(50 50 50 / 0.5);\r\n  @media screen and (max-width: 440px) {\r\n    font-size: 100px;\r\n  }\r\n  color: rgba(255 255 255 / 0.8);\r\n  user-select: none;\r\n`;\r\n\r\nconst DayContainer = styled.div<{\r\n  dimensions?: 'tall' | 'wide' | 'large';\r\n  isOpen: boolean;\r\n}>`\r\n  position: relative;\r\n  float: left;\r\n  width: var(--size);\r\n  height: var(--size);\r\n\r\n  margin: 0 var(--margin) var(--margin) 0;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n\r\n  perspective: 30rem;\r\n\r\n  transform-style: preserve-3d;\r\n  z-index: ${props => props.isOpen ? 2 : 1};\r\n\r\n  background-color: rgba(200 200 200);\r\n\r\n  transition: transform 150ms ease-in-out;\r\n\r\n  box-shadow: 5px 5px 10px 0 rgba(50, 50, 50, 0.7);\r\n\r\n  ${props => props.dimensions === 'tall' && css`\r\n    height: calc(calc(var(--size) * 2) + var(--margin));\r\n\r\n    ${Icon} {\r\n      font-size: 200px;\r\n      @media screen and (max-width: 440px) {\r\n        font-size: 160px;\r\n      }\r\n    }\r\n  `}\r\n  ${props => props.dimensions === 'wide' && css`\r\n    width: calc(calc(var(--size) * 2) + var(--margin));\r\n  `}\r\n  ${props => props.dimensions === 'large' && css`\r\n    // overriding perspective, to make the opening nicer\r\n    perspective:60rem;\r\n    width: calc(calc(var(--size) * 2) + var(--margin));\r\n    height: calc(calc(var(--size) * 2) + var(--margin));\r\n\r\n    ${Icon} {\r\n      font-size: 260px;\r\n    }\r\n  `}\r\n`;\r\n\r\nconst DayNumber = styled.span`\r\n  position: absolute;\r\n  bottom: 0.5rem;\r\n  left: 1rem;\r\n  font-size: 20px;\r\n  color: rgba(255 255 255 / 0.9);\r\n  text-shadow: 2px 2px 5px rgba(50 50 50 / 0.5);\r\n`;\r\n\r\nconst Door = styled.div<{ openingDegree: number; doubleDoor?: 'left' | 'right' }>`\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  padding-right: 0.5rem;\r\n\r\n  /* this makes things 3d */\r\n  transition: transform ${DOOR_ANIMATION_LENGTH}ms ease-in-out;\r\n  /* rotate rotates(!), translateZ fixes safari... */\r\n  transform: rotate3d(0, 1, 0, 0) translateZ(1px);\r\n  transform-origin: left 0; /* hogy a bal sarok nyiljon */\r\n  transform-style: preserve-3d;\r\n  z-index: 2;\r\n\r\n  ${props => props.openingDegree ? css`\r\n    transform: rotate3d(0, 1, 0, ${props.doubleDoor === 'right' ? props.openingDegree : props.openingDegree * -1}deg) translateZ(1px);\r\n  ` : ''}\r\n\r\n  ${props => props.doubleDoor ? css`\r\n    width: 50%;\r\n  ` : ''}\r\n\r\n  ${props => props.doubleDoor === 'right' && css`\r\n    left: 50%;\r\n    transform-origin: right 0;\r\n  `}\r\n`;\r\n\r\nconst Inside  = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transform-style: preserve-3d;\r\n  // transform: rotate(0deg) translateX(0) translateZ(1px);\r\n`;\r\n\r\nconst Present = styled.div<{ isOpen: boolean }>`\r\n  font-family: Advent;\r\n  font-size: 10em;\r\n  margin-left: 10px;\r\n  transition: transform 400ms linear 400ms;\r\n  z-index: 10;\r\n  transform-style: preserve-3d;\r\n\r\n  transform: rotate(0deg) translateX(0) translateZ(0);\r\n  ${props => props.isOpen && css`\r\n    transform: rotate(10deg) translateX(20%) translateZ(0);\r\n  `}\r\n`;\r\n\r\nconst colorValues = {\r\n  green: '#146B3A',\r\n  darkgreen: '#165B33',\r\n  blue: '#0f354f',\r\n  darkblue: '#0c142e',\r\n  red: '#EA4630',\r\n  darkred: '#BB2528',\r\n  purple: '#57000c',\r\n  yellow: '#F8B229',\r\n  beige: '#cc954a',\r\n};\r\n\r\ntype Props = {\r\n  dayNumber: number;\r\n  isSelected?: boolean;\r\n  dimensions?: 'tall' | 'wide' | 'large';\r\n  color: keyof typeof colorValues;\r\n  icon: string;\r\n  onClick: (dayNumber: number) => void;\r\n}\r\n\r\nexport default function CalendarDay({\r\n  dayNumber,\r\n  isSelected,\r\n  dimensions,\r\n  color,\r\n  icon,\r\n  onClick\r\n}: Props) {\r\n\r\n  const handleClick = useCallback(() => onClick(dayNumber), [dayNumber, onClick]);\r\n\r\n  const dayInDecember = getCurrentDay();\r\n  const canBeOpened = (dayInDecember >= dayNumber && dayInDecember > -1);\r\n\r\n  const doorOpeningDegree = (() => {\r\n    if (isSelected && canBeOpened) {\r\n      return DOOR_OPENING_DEGREES['open'];\r\n    } else if (!isSelected && canBeOpened) {\r\n      return DOOR_OPENING_DEGREES['opened'];\r\n    } else if (isSelected) {\r\n      return DOOR_OPENING_DEGREES['unopenable'];\r\n    }\r\n    return DOOR_OPENING_DEGREES['closed'];\r\n  })();\r\n\r\n  const door = dimensions === 'wide' ? (\r\n    <>\r\n      <Door\r\n        openingDegree={doorOpeningDegree}\r\n        doubleDoor=\"left\"\r\n        style={{\r\n          backgroundColor: colorValues[color]\r\n        }}\r\n      >\r\n        <DayNumber>{dayNumber + 1}</DayNumber>\r\n      </Door>\r\n      <Door\r\n        openingDegree={doorOpeningDegree}\r\n        doubleDoor=\"right\"\r\n        style={{\r\n          backgroundColor: colorValues[color]\r\n        }}\r\n      >\r\n        <Icon>{icon}</Icon>\r\n      </Door>\r\n    </>\r\n  ) : (\r\n    <Door\r\n      openingDegree={doorOpeningDegree}\r\n      style={{\r\n        backgroundColor: colorValues[color]\r\n      }}\r\n    >\r\n      <Icon>{icon}</Icon>\r\n      <DayNumber>{dayNumber + 1}</DayNumber>\r\n    </Door>\r\n  );\r\n\r\n  return (\r\n    <DayContainer\r\n      id={`day_${dayNumber}`}\r\n      dimensions={dimensions}\r\n      isOpen={isSelected}\r\n      onClick={handleClick}\r\n    >\r\n      {door}\r\n      <Inside>\r\n        <Present isOpen={isSelected}>{canBeOpened ? 'I' : 'R'}</Present>\r\n      </Inside>\r\n\r\n    </DayContainer>\r\n  )\r\n}\r\n","import styled, { css } from \"styled-components\"\r\n\r\ntype Props = {\r\n  selectedDay?: number;\r\n  numberOfPresents: number[];\r\n  onChange: (day: number) => void;\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: flex-end;\r\n  justify-content: space-around;\r\n  max-width: 420px;\r\n  @media screen and (max-width: 440px) {\r\n    max-width: 270px;\r\n  }\r\n`;\r\n\r\nconst Day = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: flex-end;\r\n  cursor: pointer;\r\n  width: 70px;\r\n  @media screen and (max-width: 440px) {\r\n    width: 45px;\r\n  }\r\n`;\r\n\r\nconst PresentsIndicator = styled.div<{ isSelected?: boolean; }>`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 10px;\r\n  color: black;\r\n  font-size: 16px;\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  align-items: flex-start;\r\n  flex-direction: column;\r\n  width: 10px;\r\n\r\n  @media screen and (max-width: 440px) {\r\n    right: 5px;\r\n  }\r\n\r\n  .icon {\r\n    font-size: 20px;\r\n    line-height: 17px;\r\n    font-family: Advent;\r\n  }\r\n\r\n  ${props => props.isSelected && css`\r\n    color: rgba(250 250 250 / 0.9);\r\n  `}\r\n`;\r\n\r\nconst DayNumber = styled.div<{ isSelected?: boolean; }>`\r\n  position: relative;\r\n  font-size: 36px;\r\n  @media screen and (max-width: 440px) {\r\n    font-size: 30px;\r\n  }\r\n  color: rgba(0 0 0 / 0.65);\r\n  max-width: 35px;\r\n  margin-right: 25px;\r\n\r\n  @media screen and (max-width: 440px) {\r\n    margin-right: 15px;\r\n  }\r\n\r\n  ${props => props.isSelected && css`\r\n    color: rgba(250 250 250 / 0.9);\r\n    &:before {\r\n      display: block;\r\n      content: '';\r\n      position: absolute;\r\n      top: 0px;\r\n      bottom: 0px;\r\n      left: -15px;\r\n      right: -25px;\r\n      background-color: #F44336;\r\n      z-index: -1;\r\n      border-radius: 5px;\r\n\r\n      @media screen and (max-width: 440px) {\r\n        left: 0px;\r\n        right: -15px;\r\n      }\r\n    }\r\n  `}\r\n`;\r\n\r\nexport default function DaySelector({\r\n  selectedDay,\r\n  numberOfPresents,\r\n  onChange\r\n}: Props) {\r\n  const minPresents = numberOfPresents.reduce((acc, n) => {\r\n    if (n < acc) {\r\n      return n;\r\n    }\r\n    return acc;\r\n  }, numberOfPresents[0]);\r\n  const maxPresents = numberOfPresents.reduce((acc, n) => {\r\n    if (n > acc) {\r\n      return n;\r\n    }\r\n    return acc;\r\n  }, numberOfPresents[0]);\r\n  const range = maxPresents - minPresents;\r\n  return (\r\n    <Container>\r\n      {numberOfPresents.map((n, i) => {\r\n        const indicator = (() => {\r\n          if (n === 0) {\r\n            return 0;\r\n          }\r\n          return Math.min(Math.ceil(((n - minPresents) / range) * 2), n);\r\n        })();\r\n        return (\r\n          <Day key={i} onClick={() => onChange(i)}>\r\n            <DayNumber isSelected={i === selectedDay}>{i + 1}</DayNumber>\r\n            <PresentsIndicator isSelected={i === selectedDay}>\r\n              {(new Array(indicator)).fill(true).map((_, i) => (\r\n                <span className=\"icon\" key={i}>h</span>\r\n              ))}\r\n            </PresentsIndicator>\r\n          </Day>\r\n        );\r\n      })}\r\n    </Container>\r\n  )\r\n}\r\n","import styled from \"styled-components\"\r\nimport React, { useCallback, useState } from \"react\";\r\nimport createImagePreloadPromise from \"./createPreloadPromise\";\r\n\r\nconst cloudName = 'adventcalendar';\r\nconst unsignedUploadPreset = 'ml_default';\r\nconst supportedMediaTypes = [\r\n  'image/gif',\r\n  'image/jpeg',\r\n  'image/png',\r\n  'image/svg+xml',\r\n  'image/webp'\r\n];\r\n\r\nexport const thumbnail = (id: string) => `https://res.cloudinary.com/adventcalendar/image/upload/w_200,h_200,c_fit/${id}.jpg`;\r\nexport const original = (id: string) => `https://res.cloudinary.com/adventcalendar/image/upload/${id}.jpg`;\r\n\r\nconst Container = styled.label`\r\n  width: 200px;\r\n  height: 200px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 1px solid rgba(0, 0, 0, 0.3);\r\n  border-radius: 3px;\r\n  background-position: center center;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-color: #e0a452;\r\n  position: relative;\r\n  font-size: 1.2em;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst DeleteButton = styled.div`\r\n  position: absolute;\r\n  bottom: 0px;\r\n  right: 0px;\r\n  background: red;\r\n  color: white;\r\n  cursor: pointer;\r\n  padding: 2px;\r\n`\r\n\r\n\r\ntype Props = {\r\n  image: string | null;\r\n  onImageAdded: (img: string) => void;\r\n  onImageRemoved: () => void;\r\n}\r\n\r\nexport default function ImageUploader({\r\n  onImageAdded,\r\n  onImageRemoved,\r\n  image\r\n}: Props) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const stopPropagation = useCallback((event: React.MouseEvent<HTMLElement>) => {\r\n    event.stopPropagation();\r\n  }, []);\r\n\r\n  const startUpload = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files && e.target.files.length) {\r\n      setIsLoading(true);\r\n      const file = e.target.files.item(0);\r\n      if (!file) {\r\n        return; // Shouldn't happen\r\n      }\r\n      e.target.value = '';\r\n      const fd = new FormData();\r\n      fd.append('upload_preset', unsignedUploadPreset);\r\n      fd.append('tags', 'browser_upload'); // Optional - add tag for image admin in Cloudinary\r\n      fd.append('file', file);\r\n      fetch(`https://api.cloudinary.com/v1_1/${cloudName}/upload`, {\r\n        method: 'POST',\r\n        body: fd,\r\n        headers: {\r\n          'X-Requested-With': 'XMLHttpRequest'\r\n        }\r\n      })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log(response);\r\n        return createImagePreloadPromise(thumbnail(response.public_id))\r\n          .then(() => {\r\n            onImageAdded(response.public_id);\r\n            setIsLoading(false);\r\n          });\r\n      })\r\n      .catch(err => {\r\n        setIsLoading(false);\r\n        console.error(err);\r\n      })\r\n    }\r\n  }, [onImageAdded]);\r\n\r\n  const handleRemove = useCallback((event: React.MouseEvent) => {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    onImageRemoved();\r\n  }, [onImageRemoved]);\r\n\r\n  if (!image) {\r\n    return (\r\n      <Container onClick={stopPropagation}>\r\n        <input\r\n          type=\"file\"\r\n          style={{ display: \"none\" }}\r\n          onChange={startUpload}\r\n          accept={supportedMediaTypes.join(', ')}\r\n        />\r\n        {isLoading ? 'Töltés...' : 'Tölts fel egy képet!'}\r\n      </Container>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      onClick={stopPropagation}\r\n      style={{\r\n        backgroundImage: `url('${thumbnail(image)}')`\r\n      }}\r\n    >\r\n      <DeleteButton onClick={handleRemove}>Törlés</DeleteButton>\r\n    </Container>\r\n  )\r\n}","/**\n * Promisify preloading an image. Resolve when the image is preloaded\n */\n export default function createImagePreloadPromise(src: string | null) {\n  return new Promise<void>((resolve, reject) => {\n    if (!src) {\n      return resolve();\n    }\n    const img = new Image();\n    img.src = src;\n    if (img.complete) {\n      resolve();\n    } else {\n      const handleLoad = () => resolve();\n      img.addEventListener('load', handleLoad);\n\n      const handleError = () => reject(new Error('Image loading falied'));\n      img.addEventListener('error', handleError);\n    }\n  });\n}","import styled from 'styled-components';\r\nimport { useCallback } from \"react\";\r\nimport { Present } from \"../../types\";\r\nimport { original, thumbnail } from '../UploadForm/ImageUploader';\r\n\r\nconst ListItem = styled.li`\r\n  margin: 0.3em;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  a {\r\n    display: flex;\r\n  }\r\n\r\n  img {\r\n    max-height: 20px;\r\n    max-width: 20px;\r\n    display: inline-block;\r\n    margin: 0 3px;\r\n  }\r\n\r\n  ::before {\r\n    display: inline-block;\r\n    font-family: Advent;\r\n    content: 'h';\r\n    margin-right: 3px;\r\n  }\r\n`;\r\n\r\nexport const InlineButton = styled.button`\r\n  display: inline-block;\r\n  margin: 0 0 0 10px;\r\n  outline: none;\r\n  border: none;\r\n  border-radius: 3px;\r\n  padding: 0.3em;\r\n\r\n  font-family: inherit;\r\n  box-shadow: 2px 2px 17px 0px #0000005c;\r\n  background-color: #F44336;\r\n  color: #fff;\r\n`;\r\n\r\nexport default function PresentListItem({\r\n  present,\r\n  onDelete\r\n}: {\r\n  present: Present;\r\n  onDelete: (present: Present) => void;\r\n}) {\r\n\r\n  const deleteItem = useCallback(() => onDelete(present), [onDelete, present])\r\n\r\n  return (\r\n    <ListItem>\r\n      December {present.day + 1}: {present.image && (\r\n        <a href={original(present.image)} target=\"_blank\">\r\n          <img src={thumbnail(present.image)} />\r\n        </a>\r\n      )} {present.content} <InlineButton onClick={deleteItem}>Törlés</InlineButton>\r\n    </ListItem>\r\n  )\r\n}\r\n","import React, { Dispatch, useReducer } from \"react\";\nimport { Present } from \"../../types\";\n\nexport type CalendarData = {\n  presents: Present[];\n  numberOfPresents: number[];\n  calendarName: string;\n}\n\ntype State = {\n  calendarData: CalendarData | null;\n  myPresents: Present[];\n}\n\nexport type Action = {\n  type: 'SET_PRESENTS_DATA';\n  presentsData: CalendarData | null;\n} | {\n  type: 'SET_MYPRESENTS';\n  myPresents: Present[];\n} | {\n  type: 'ADD_PRESENT';\n  present: Present;\n} | {\n  type: 'DELETE_PRESENT';\n  uuid: string;\n}\n\nfunction reducer(prevState: State, action: Action): State {\n  switch (action.type) {\n    case 'SET_PRESENTS_DATA':\n      return {\n        ...prevState,\n        calendarData: action.presentsData\n      };\n    case 'SET_MYPRESENTS':\n      return {\n        ...prevState,\n        myPresents: action.myPresents\n      };\n    case 'ADD_PRESENT':\n      return {\n        calendarData: {\n          ...prevState.calendarData,\n          numberOfPresents: prevState.calendarData?.numberOfPresents.map((n, i) => i === action.present.day ? n + 1 : n),\n        },\n        myPresents: [...prevState.myPresents, action.present]\n      };\n    case 'DELETE_PRESENT': {\n      const presentToRemove = prevState.myPresents.find(p => p.uuid === action.uuid);\n      if (!presentToRemove) {\n        return prevState;\n      }\n      return {\n        calendarData: {\n          ...prevState.calendarData,\n          numberOfPresents: prevState.calendarData?.numberOfPresents.map((n, i) => i === presentToRemove.day ? n - 1 : n),\n        },\n        myPresents: prevState.myPresents.filter(p => p.uuid !== action.uuid)\n      }\n    }\n  }\n}\n\nconst initialState: State = {\n  calendarData: null,\n  myPresents: []\n}\n\nexport const StateContext = React.createContext<State>(initialState);\n\nexport const DispatchContext = React.createContext<Dispatch<Action>>(() => null);\n\ntype Props = {\n  children: React.ReactNode;\n}\n\nexport default function StateWrapper(props: Props): React.ReactElement {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {props.children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n}","import styled from \"styled-components\";\r\n\r\nexport const Background = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(255,255,255,0.7);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 10;\r\n\r\n  // this makes it appear above the opening doors (where perspective is set to 30em/60em)\r\n  transform: translateZ(61em);\r\n\r\n  // appearing animation\r\n  @keyframes fadein {\r\n    from { opacity: 0; }\r\n    to { opacity: 1; }\r\n  }\r\n  animation: 100ms linear fadein;\r\n`;\r\n\r\nexport const Modal = styled.div`\r\n  position: relative;\r\n  width: 90%;\r\n  max-width: 700px;\r\n  min-height: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  margin: 2em;\r\n  z-index: 10;\r\n\r\n  // appearing animation\r\n  @keyframes slidein {\r\n    from { transform: scale(0); }\r\n    to { transform: scale(1); }\r\n  }\r\n  animation: 300ms ease-in-out slidein;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const Button = styled.button`\r\n  display: block;\r\n  margin: 2em auto;\r\n  outline: none;\r\n  border: none;\r\n  border-radius: 1em;\r\n  padding: 1rem;\r\n\r\n  font-family: inherit;\r\n  font-size: 1.5rem;\r\n  text-shadow: 1px 1px 2px rgba(50 50 50 / 0.5);\r\n  box-shadow: 2px 2px 17px 0px #0000005c;\r\n  background-color: rgba(204, 149, 74, 0.9);\r\n  color: #fff;\r\n\r\n  transition: transform 100ms linear, background-color 100ms linear;\r\n\r\n  :hover {\r\n    background-color: rgba(204, 149, 74, 1);\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n","import React, { useCallback, useContext, useEffect, useRef, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { createAndGetUserId, getUserName, saveUserName } from \"../../utils/userId\";\r\nimport DaySelector from \"./DaySelector\";\r\nimport PresentListItem from \"../PresentListItem/PresentListItem\";\r\nimport { Present } from \"../../types\";\r\nimport { v4 as uuidV4 } from 'uuid';\r\nimport { post } from \"../../utils/api\";\r\nimport { DispatchContext, StateContext } from \"../DataProvider/DataProvider\";\r\nimport { Background, Modal } from \"../Modal/Modal\";\r\nimport ImageUploader from \"./ImageUploader\";\r\nimport { Button } from './Button';\r\n\r\nconst UploadModal = styled(Modal)`\r\n  background-color: #cc954a;\r\n  border-radius: 10px;\r\n  box-shadow: 5px 5px 10px 0 rgba(50, 50, 50, 0.7);\r\n`;\r\n\r\nconst UploadWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 2em;\r\n  box-sizing: border-box;\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  color: rgba(10 10 10 / 0.75);\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-family: 'Great Vibes', cursive;\r\n  font-size: 5em;\r\n  color: rgba(250 250 250 / 0.9);\r\n  text-shadow: 2px 3px 5px rgba(50 50 50 / 0.6);\r\n  margin: 2rem 0 1rem;\r\n  padding: 0;\r\n  width: 100%;\r\n  text-align: center;\r\n\r\n  @media screen and (max-width: 440px) {\r\n    margin: 0.5rem 0;\r\n    font-size: 2.5em;\r\n  }\r\n`;\r\n\r\nconst Text = styled.p`\r\n  color: #f7f7f7e8;\r\n  font-size: 1.2em;\r\n  line-height: 1.5em;\r\n  @media screen and (max-width: 440px) {\r\n    font-size: 1.2em;\r\n    line-height: 1.65em;\r\n  }\r\n\r\n  text-align: center;\r\n  text-shadow: 2px 2px 5px rgba(50 50 50 / 0.5);\r\n  width: 90%;\r\n`;\r\n\r\nconst Textarea = styled.textarea`\r\n  width: 200px;\r\n  height: 200px;\r\n  font-family: inherit;\r\n  font-size: 1.2em;\r\n  padding: 0.5em;\r\n  box-sizing: border-box;\r\n\r\n  border: 1px solid rgba(0, 0, 0, 0.3);\r\n  border-radius: 3px;\r\n  background-color: #e0a452;\r\n\r\n  &::placeholder {\r\n    color: rgba(10 10 10 / 0.75);\r\n    text-align: center;\r\n    padding-top: calc(50% - 10px);\r\n  }\r\n\r\n  &:active, &:focus {\r\n    &::placeholder {\r\n      color: transparent;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  font-size: 1.2em;\r\n  @media screen and (max-width: 440px) {\r\n    font-size: 1.1em;\r\n  }\r\n`;\r\n\r\nconst Nameinput = styled.input`\r\n  width: 200px;\r\n  font-family: inherit;\r\n  font-size: 1.2em;\r\n  padding: 0.5em;\r\n  box-sizing: border-box;\r\n  margin: 0.5em 0 1em 0;\r\n  border: 1px solid rgba(0, 0, 0, 0.3);\r\n  border-radius: 3px;\r\n  background-color: #e0a452;\r\n  text-align: center;\r\n\r\n  &::placeholder {\r\n    color: rgba(10 10 10 / 0.3);\r\n    text-align: center;\r\n  }\r\n\r\n  &:active, &:focus {\r\n    &::placeholder {\r\n      color: transparent;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SubmitButton = styled(Button)`\r\n  margin: 0.5em;\r\n  background-color: hsl(145deg 61% 30%);\r\n  :hover {\r\n    background-color: hsl(145deg 61% 35%);\r\n  }\r\n`;\r\n\r\nconst ErrorDisplay = styled.p`\r\n  color: red;\r\n`;\r\n\r\nconst CloseButton = styled.div`\r\n  position: absolute;\r\n  right: 1em;\r\n  top: 1em;\r\n  padding: 1em;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: space-around;\r\n  flex-wrap: wrap;\r\n  margin: 1em 0;\r\n  > * {\r\n    margin: 0.5em 1em;\r\n  }\r\n`;\r\n\r\nconst ListHeader = styled.h3`\r\n  margin: 1.5em 0 0.5em;\r\n  padding: 0;\r\n  font-size: 1.3em;\r\n`;\r\n\r\nconst List = styled.ul`\r\n  margin: 0;\r\n  list-style-type: '⭐️';\r\n`;\r\n\r\ntype Props = {\r\n  calendarId: string;\r\n  defaultSelectedDay: number | null;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function UploadForm({\r\n  calendarId,\r\n  defaultSelectedDay,\r\n  onClose\r\n}: Props) {\r\n  const { calendarData, myPresents } = useContext(StateContext);\r\n  const dispatch = useContext(DispatchContext);\r\n  const numberOfPresents = calendarData.numberOfPresents;\r\n  const [selectedDay, setSelectedDay] = useState(defaultSelectedDay);\r\n  const [username, setUsername] = useState(getUserName(calendarId) || '');\r\n  const [image, setImage] = useState<string | null>(null);\r\n  const userId = createAndGetUserId(calendarId);\r\n  const contentRef = useRef(null);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleNameChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => setUsername(event.target.value), []);\r\n  const handleDayChange = useCallback((day: number) => {\r\n    setSelectedDay(day);\r\n    const $uploaderArea = document.getElementById('uploaderArea');\r\n    if ($uploaderArea) {\r\n      $uploaderArea.scrollIntoView({ behavior: 'smooth' });\r\n    }\r\n    setError('');\r\n  }, []);\r\n\r\n  const handleSubmit = useCallback(() => {\r\n    const content = contentRef.current?.value;\r\n    if (!content && !image) {\r\n      return setError('Adj meg vagy egy képet vagy egy üzenetet!');\r\n    }\r\n    if (content.length > 2000) {\r\n      return setError('Az üzenet maximális hossza 2000 karakter!');\r\n    }\r\n    if (username?.length > 100) {\r\n      return setError('A felhasználónév nem lehet hosszabb, mint 100 karakter!');\r\n    }\r\n    if (selectedDay === null) {\r\n      return setError('Válassz ki egy napot!');\r\n    }\r\n    const present: Present = {\r\n      uuid: uuidV4(),\r\n      day: selectedDay,\r\n      uploader: userId || '',\r\n      uploaderName: username,\r\n      content,\r\n      image\r\n    };\r\n    post('/calendar/' + calendarId, present);\r\n    saveUserName(calendarId, username);\r\n    contentRef.current.value = '';\r\n    setImage(null);\r\n    dispatch({\r\n      type: 'ADD_PRESENT',\r\n      present\r\n    });\r\n  }, [calendarId, dispatch, image, selectedDay, userId, username]);\r\n\r\n  const handleDelete = useCallback((present: Present) => {\r\n    if (!window.confirm('Are you sure you want to delete this present?')) {\r\n      return;\r\n    }\r\n    post('/calendar/' + calendarId + '/remove', {\r\n      presentId: present.uuid,\r\n      userId\r\n    });\r\n    dispatch({\r\n      type: 'DELETE_PRESENT',\r\n      uuid: present.uuid\r\n    });\r\n  }, [calendarId, dispatch, userId]);\r\n\r\n  const handleImageAdded = useCallback((image: string) => setImage(image), []);\r\n  const handleImageRemoved = useCallback(() => setImage(null), []);\r\n\r\n  const resetError = useCallback(() => setError(''), []);\r\n\r\n  useEffect(function resetError() {\r\n    setError('');\r\n  }, [username, selectedDay, image]);\r\n\r\n  return (\r\n    <Background onClick={onClose}>\r\n      <UploadModal onClick={(e: React.MouseEvent) => e.stopPropagation()}>\r\n        <UploadWrapper>\r\n          <CloseButton onClick={onClose}>x</CloseButton>\r\n          <Title>Ajándékozni jó!</Title>\r\n          <Text>\r\n            Tölts fel egy képet, rövid szöveget, vagy akár egy Youtube linket a kiválasztott napra!<br />\r\n            Azon a napon mindenki, aki rendelkezik a naptár URL-jével, látni fogja a feltöltésed.\r\n          </Text>\r\n\r\n          <DaySelector\r\n            selectedDay={selectedDay}\r\n            numberOfPresents={numberOfPresents}\r\n            onChange={handleDayChange}\r\n          />\r\n\r\n          <Row id=\"uploaderArea\">\r\n            <ImageUploader\r\n              onImageAdded={handleImageAdded}\r\n              onImageRemoved={handleImageRemoved}\r\n              image={image}\r\n            />\r\n            <div>\r\n              <Textarea rows={5} ref={contentRef} onInput={resetError} placeholder=\"Vagy írj üzenetet!\"></Textarea>\r\n            </div>\r\n          </Row>\r\n\r\n          <Label htmlFor=\"usernameField\">És ha szeretnéd a neved is megadhatod</Label>\r\n          <Nameinput id=\"usernameField\" type=\"text\" value={username} placeholder=\"névtelen ajándékozó\" onChange={handleNameChange} />\r\n\r\n          <SubmitButton onClick={handleSubmit}>Mehet</SubmitButton>\r\n          {error && (\r\n            <ErrorDisplay>\r\n              {error}\r\n            </ErrorDisplay>\r\n          )}\r\n          {myPresents.length > 0 && (\r\n            <>\r\n              <ListHeader>Erről az eszközről korábban feltöltött ajándékaid:</ListHeader>\r\n              <List>\r\n                {myPresents.sort((a, b) => a.day - b.day).map(present => (\r\n                  <PresentListItem key={present.uuid} present={present} onDelete={() => handleDelete(present)} />\r\n                ))}\r\n              </List>\r\n            </>\r\n          )}\r\n        </UploadWrapper>\r\n      </UploadModal>\r\n    </Background>\r\n  )\r\n}\r\n","import React, { useContext } from \"react\"\nimport styled from \"styled-components\";\nimport { StateContext } from \"../DataProvider/DataProvider\";\nimport { Background, Modal } from \"../Modal/Modal\"\n\ntype Props = {\n  dayNumber: number;\n  onClose: () => void;\n}\n\nconst SlideShow = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  overflow-x: scroll;\n  flex-grow: 1;\n`\n\nconst Slide = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default function Presentation({\n  dayNumber,\n  onClose\n}: Props) {\n  const { calendarData } = useContext(StateContext);\n  const presents = calendarData.presents.filter(p => p.day === dayNumber);\n\n  return (\n    <Background onClick={onClose}>\n      <Modal onClick={(e: React.MouseEvent) => e.stopPropagation()}>\n        <SlideShow>\n          {presents.map(present => (\n            <Slide key={present.uuid}>\n              <div>{present.content}</div>\n              <div>{present.uploaderName ? `- ${present.uploaderName}` : null}</div>\n            </Slide>\n          ))}\n        </SlideShow>\n      </Modal>\n    </Background>\n  )\n}","import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  Link,\r\n  useParams\r\n} from \"react-router-dom\";\r\nimport { Present } from \"../../types\";\r\nimport getJson from \"../../utils/api\";\r\nimport { createAndGetUserId } from \"../../utils/userId\";\r\nimport CalendarDay, { DOOR_ANIMATION_LENGTH } from \"../CalendarDay/CalendarDay\";\r\nimport styled from \"styled-components\";\r\nimport UploadForm from \"../UploadForm/UploadForm\";\r\nimport { DispatchContext, CalendarData, StateContext } from \"../DataProvider/DataProvider\";\r\nimport { getCurrentDay } from \"../../utils/getCurrentDay\";\r\nimport Presentation from \"../Presentation/Presentation\";\r\nimport { InlineButton } from \"../PresentListItem/PresentListItem\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 2rem auto;\r\n  max-width: calc(calc(var(--size) + var(--margin)) * 4);\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-family: 'Great Vibes', cursive;\r\n  font-weight: normal;\r\n  font-size: 5em;\r\n  color: white; // hsl(145, 64%, 24%);\r\n  text-shadow: 2px 3px 5px rgba(50 50 50 / 0.6);\r\n  margin: 3rem 0 0;\r\n  padding: 0;\r\n  width: 100%;\r\n  text-align: center;\r\n`;\r\n\r\nconst Description = styled.div`\r\n  color: white; // hsl(145, 64%, 24%);\r\n  margin: 0 auto;\r\n  padding: 1em;\r\n  max-width: 700px;\r\n  text-align: center;\r\n\r\n  ${InlineButton} {\r\n    margin-left: 0;\r\n  }\r\n\r\n  a {\r\n    color: rgb(248, 178, 41);\r\n  }\r\n`;\r\n\r\nconst Row = styled.section`\r\n  width: calc(calc(var(--size) + var(--margin)) * 2);\r\n  height: calc(calc(var(--size) + var(--margin)) * 2);\r\n  @media screen and (max-width: 440px) {\r\n    margin-left: var(--margin);\r\n  }\r\n`;\r\n\r\nexport default function CalendarPage() {\r\n  const { uuid } = useParams();\r\n  const { calendarData } = useContext(StateContext);\r\n  const dispatch = useContext(DispatchContext);\r\n  const [isUploadFormOpen, setIsUploadFormOpen] = useState(false);\r\n  const [isPresentationOpen, setIsPresentationOpen] = useState(false);\r\n  const [selectedDay, setSelectedDay] = useState<number | null>(null);\r\n  const userId = createAndGetUserId(uuid);\r\n\r\n  useEffect(() => {\r\n    if (uuid) {\r\n      getJson<CalendarData>('/calendar/' + uuid).then((presents: CalendarData) => {\r\n        dispatch({\r\n          type: 'SET_PRESENTS_DATA',\r\n          presentsData: presents\r\n        });\r\n      });\r\n    }\r\n  }, [dispatch, uuid]);\r\n\r\n  useEffect(() => {\r\n    if (uuid && userId) {\r\n      getJson<Present[]>('/calendar/' + uuid + '/' + userId).then((presents: Present[]) => {\r\n        dispatch({\r\n          type: 'SET_MYPRESENTS',\r\n          myPresents: presents\r\n        })\r\n      });\r\n    }\r\n  }, [dispatch, userId, uuid]);\r\n\r\n  useEffect(function scrollDayIntoView() {\r\n    const dayInDecember = getCurrentDay();\r\n    if (dayInDecember > -1) {\r\n      const currentDay = document.getElementById(`day_${dayInDecember}`);\r\n      if (currentDay) {\r\n        currentDay.scrollIntoView({behavior: 'smooth', block: 'center'});\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const closeUploadForm = useCallback(() => {\r\n    setIsUploadFormOpen(false);\r\n    setSelectedDay(null);\r\n  }, []);\r\n  const openUploadForm = useCallback(() => setIsUploadFormOpen(true), []);\r\n  const closePresentation = useCallback(() => {\r\n    setSelectedDay(null);\r\n    setIsPresentationOpen(false);\r\n  }, []);\r\n\r\n  const handleDayClick = useCallback((clickedDayNumber: number) => {\r\n    setSelectedDay(clickedDayNumber);\r\n    const dayInDecember = getCurrentDay();\r\n    if (dayInDecember >= clickedDayNumber && dayInDecember > -1) {\r\n      window.setTimeout(() => {\r\n        setIsPresentationOpen(true);\r\n      }, DOOR_ANIMATION_LENGTH);\r\n    } else {\r\n      window.setTimeout(() => {\r\n        openUploadForm();\r\n      }, DOOR_ANIMATION_LENGTH);\r\n    }\r\n\r\n  }, [openUploadForm]);\r\n\r\n  return (\r\n    <div>\r\n      {calendarData?.calendarName && <Title>{calendarData?.calendarName}</Title>}\r\n      <Description>\r\n        <p>Itt a közös online adventi naptáratok! Küldd tovább az oldal urljét azoknak, akikkel együtt szeretnéd várni a karácsonyt, majd <InlineButton onClick={openUploadForm}>tölts föl</InlineButton> meglepetéseket!</p>\r\n        <p>December minden napján látni fogjátok, ki mit töltött föl aznapra! Úgyhogy hajrá, tölts föl sok ajándékot, és ha szeretnél egy másik társasággal külön naptárat, <Link to=\"/\">kattints ide</Link>!</p>\r\n      </Description>\r\n      <Wrapper>\r\n        <Row>\r\n          <CalendarDay isSelected={selectedDay === 12} color=\"red\" dayNumber={12} icon=\"R\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 7} color=\"green\" dayNumber={7} icon=\"a\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 21} color=\"yellow\" dayNumber={21} icon=\"m\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 18} color=\"blue\" dayNumber={18} icon=\"i\" onClick={handleDayClick} />\r\n        </Row>\r\n        <Row>\r\n          <CalendarDay isSelected={selectedDay === 14} color=\"darkred\" dayNumber={14} dimensions=\"tall\" icon=\"g\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 2} color=\"yellow\" dayNumber={2} icon=\"x\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 9} color=\"blue\" dayNumber={9} icon=\"j\" onClick={handleDayClick} />\r\n        </Row>\r\n        <Row>\r\n          <CalendarDay isSelected={selectedDay === 1} color=\"purple\" dayNumber={1} dimensions=\"wide\" icon=\"A\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 17} color=\"beige\" dayNumber={17} icon=\"l\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 6} color=\"darkblue\" dayNumber={6} icon=\"p\" onClick={handleDayClick} />\r\n        </Row>\r\n        <Row>\r\n          <CalendarDay isSelected={selectedDay === 23} color=\"darkgreen\" dayNumber={23} dimensions=\"large\" icon=\"v\" onClick={handleDayClick} />\r\n        </Row>\r\n        <Row>\r\n          <CalendarDay isSelected={selectedDay === 8} color=\"blue\" dayNumber={8} icon=\"y\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 16} color=\"darkred\" dayNumber={16} icon=\"f\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 20} color=\"green\" dayNumber={20} dimensions=\"wide\" icon=\"O\" onClick={handleDayClick} />\r\n        </Row>\r\n        <Row>\r\n          <CalendarDay isSelected={selectedDay === 10} color=\"yellow\" dayNumber={10} icon=\"C\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 4} color=\"purple\" dayNumber={4} icon=\"V\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 0} color=\"blue\" dayNumber={0} icon=\"b\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 13} color=\"red\" dayNumber={13}  icon=\"H\" onClick={handleDayClick} />\r\n        </Row>\r\n        <Row>\r\n          <CalendarDay isSelected={selectedDay === 5} color=\"red\" dayNumber={5} dimensions=\"tall\" icon=\"s\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 15} color=\"darkblue\" dayNumber={15} icon=\"E\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 19} color=\"yellow\" dayNumber={19} icon=\"F\" onClick={handleDayClick} />\r\n        </Row>\r\n        <Row>\r\n          <CalendarDay isSelected={selectedDay === 22} color=\"beige\" dayNumber={22} dimensions=\"wide\" icon=\"X\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 11} color=\"darkred\" dayNumber={11} icon=\"c\" onClick={handleDayClick} />\r\n          <CalendarDay isSelected={selectedDay === 3} color=\"green\" dayNumber={3}  icon=\"T\" onClick={handleDayClick} />\r\n        </Row>\r\n      </Wrapper>\r\n\r\n      {isUploadFormOpen && (\r\n        <UploadForm\r\n          calendarId={uuid}\r\n          defaultSelectedDay={selectedDay}\r\n          onClose={closeUploadForm}\r\n        />\r\n      )}\r\n      {isPresentationOpen && (\r\n        <Presentation\r\n          dayNumber={selectedDay}\r\n          onClose={closePresentation}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const HangingItem = styled.div<{ inForeground?: boolean; }>`\r\n  // start hanging items a bit above the viewport\r\n  position: absolute;\r\n  top: -50px;\r\n  left: 0;\r\n\r\n  z-index: ${props => props.inForeground ? 1 : -1};\r\n\r\n  // hanging animation\r\n  @keyframes hanging {\r\n    0%   { transform: rotate(5deg) translateZ(0px); }\r\n    100% { transform: rotate(-5deg) translateZ(0px); }\r\n  }\r\n  animation: ${props => props.inForeground ? '2s' : '1.5s'} ease-in-out infinite alternate hanging;\r\n\r\n  // this makes it \"hang\" from center - top (rotation center is at x: 50%, y: -100%)\r\n  transform-origin: 50% -100%;\r\n\r\n  // image within the hanging container\r\n  & svg {\r\n    height: 100%;\r\n    width: 15vw;\r\n    @media screen and (max-width: 440px) {\r\n      width: 20vw;\r\n    }\r\n    filter: ${props => props.inForeground ? 'drop-shadow(15px 10px 13px hsl(145deg 61% 16%))' : 'drop-shadow(5px 4px 4px hsl(145deg 61% 21%))'};\r\n  }\r\n\r\n  // this svg does not have a rope, so one is added via :after\r\n  &.withRope {\r\n    svg {\r\n      margin-top: 190px;\r\n    }\r\n    :after {\r\n      position: absolute;\r\n      left: 50%; // align center\r\n      top: 0; // start at top of svg\r\n      display: block;\r\n      content: '';\r\n      width: 2px;\r\n      height: 190px; // same as margin above svg\r\n      background-color: #9b9b9b;\r\n    }\r\n\r\n    @media screen and (max-width: 440px) {\r\n      svg {\r\n        margin-top: 100px;\r\n      }\r\n      :after {\r\n        height: 100px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", null, \"\\r\\n    .st0{fill:#f9f7f7;stroke:#f7e7e7;stroke-width:2.0618}.st1{fill:#9f0d1e}.st2{fill:#80151b}.st3{fill:url(#SVGID_1_)}\\r\\n  \");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 82,\n  x2: 82,\n  y2: 229.6,\n  className: \"st0\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M82,209.1c11.5,0,47,74.9,47,81.4c0,6.5-94,7.3-94,0C35,283.2,70.5,209.1,82,209.1L82,209.1z\",\n  className: \"st1\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M82,260.5c14.2,0,58.2,92.9,58.2,101c0,8-116.3,9-116.3,0C23.8,352.5,67.8,260.5,82,260.5L82,260.5z\",\n  className: \"st1\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M82,300.8c20,0,82,130.8,82,142.1c0,11.3-163.9,12.7-163.9,0S61.9,300.8,82,300.8L82,300.8z\",\n  className: \"st2\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_1_\",\n  x1: -12.8073,\n  x2: 125.8127,\n  y1: 252.0197,\n  y2: 520.3797,\n  gradientTransform: \"matrix(1 0 0 1 0.1401 -42.8096)\",\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.3583,\n  stopColor: \"#eeeeef\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.9755,\n  stopColor: \"#c0c1c3\"\n}));\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M129.2,360.1c6.7-1,10.9-2.3,10.9-3.8c0-4.8-15.6-39.6-31.2-67.1c11.7-0.9,20-2.3,20-4.2 c0-6.5-35.5-81.4-47-81.4c-11.5,0-47,74.1-47,81.4c0,2.1,8.2,3.6,19.7,4.4c-15.5,27.2-30.9,61.6-30.9,66.9c0,1.7,4,3,10.5,4 C16,394.7,0,431.3,0,437.7c0,12.7,163.9,11.3,163.9,0C164,431.9,147.8,394.9,129.2,360.1L129.2,360.1z\",\n  className: \"st3\"\n});\n\nfunction SvgHangingChristmasTreeClipart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlSpace: \"preserve\",\n    id: \"tree\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 163.9 451.9\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHangingChristmasTreeClipart);\nexport default __webpack_public_path__ + \"static/media/hanging-christmas-tree-clipart.3a417b12.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(4 0 0 4 -.000016127 0)\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: 10,\n  height: 10,\n  x: 62.328,\n  y: 42.289,\n  fill: \"#ccc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#666\",\n  d: \"m77.328 0-21 21v4l12 12h5v-5l-9-9 15-15 15 15-9 9v5h5l12-12v-4l-21-21h-4zm-16 41v14h36v-14h-36zm4 2h3v9h-3v-9z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#f78a24\",\n  d: \"m135.47 193.98a79.357 79.357 0 0 1 -112.23 0 79.357 79.357 0 0 1 -0.000002 -112.23 79.357 79.357 0 0 1 112.23 0.000012 79.357 79.357 0 0 1 0.00001 112.23z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#d53416\",\n  d: \"m14.217 109.21-12.526 12.53a79.357 79.357 0 0 0 -1.6387 14.271l14.164-14.164 12.633 12.631 6.3164 6.3164 18.947-18.947 18.947 18.947 18.949-18.947 12.631 12.631 6.3164 6.3164 18.947-18.947 18.949 18.947 11.348-11.348a79.357 79.357 0 0 0 -1.9258 -10.707l-9.4219 9.4219-18.949-18.947-6.3145 6.3164-12.633 12.631-18.947-18.947-18.949 18.947-18.947-18.947-6.3164 6.3164-12.631 12.631-18.949-18.947zm0 26.072-13.379 13.379a79.357 79.357 0 0 0 2.125 10.508l11.254-11.254 12.633 12.631 6.3164 6.3164 18.947-18.947 18.947 18.947 18.949-18.947 12.631 12.631 6.3164 6.3164 18.947-18.947 18.949 18.947 9.2754-9.2754a79.357 79.357 0 0 0 2.3438 -14.977l-11.619 11.619-18.949-18.947-6.3145 6.3164-12.633 12.631-18.947-18.947-18.949 18.947-18.947-18.947-6.3164 6.3164-12.631 12.631-18.949-18.947z\"\n}));\n\nfunction SvgSimpleChristmasBulbClipart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 634.86,\n    height: 868.9,\n    viewBox: \"0 0 634.85694 868.898\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSimpleChristmasBulbClipart);\nexport default __webpack_public_path__ + \"static/media/simple-christmas-bulb-clipart.3a7db4e0.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useState } from 'react';\r\nimport { post } from '../../utils/api';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Calendar } from '../../types';\r\nimport styled, { createGlobalStyle } from 'styled-components';\r\n\r\nimport { HangingItem } from './HangingItem';\r\nimport { ReactComponent as ChristmasTree } from './hanging-christmas-tree-clipart.svg';\r\nimport { ReactComponent as ChristmasOrnament } from './simple-christmas-bulb-clipart.svg';\r\nimport { Button } from '../UploadForm/Button';\r\n\r\nconst BodyBackgroundOverride = createGlobalStyle`\r\n  body {\r\n    background-color: hsl(145deg 61% 29%);\r\n  }\r\n`;\r\n\r\nconst Page = styled.div`\r\n  margin: 0 auto;\r\n  width: 80%;\r\n`;\r\n\r\nconst Error = styled.p`\r\n  color: rgb(248, 178, 41);\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-family: Christmas;\r\n  font-size: 20vw;\r\n  font-weight: 200;\r\n  width: 100%;\r\n  text-align: center;\r\n  margin-top: 20vh;\r\n  margin-bottom: 4rem;\r\n  text-shadow: 2px 2px 4px hsl(145deg 61% 21%);\r\n  color: #c8cbb9;\r\n`;\r\n\r\nconst TextContainer = styled.div`\r\n  width: 60%;\r\n  @media screen and (max-width: 440px) {\r\n    width: 80%;\r\n  }\r\n  margin: 0 auto 5em;\r\n`;\r\n\r\nconst Text = styled.p`\r\n  color: #c8cbb9;\r\n  font-size: 1.5em;\r\n  line-height: 1.65em;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  outline: none;\r\n  border-radius: 5px;\r\n  border: none;\r\n  padding: 0.5em;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  font-size: 2em;\r\n  font-family: inherit;\r\n  text-shadow: 1px 1px 2px rgba(50 50 50 / 0.5);\r\n  background-color: #dfe2d2;\r\n  color: hsl(145, 64%, 24%);\r\n  margin: 0.5em 0 0.5em;\r\n\r\n  &::placeholder {\r\n    color: rgba(10 10 10 / 0.5);\r\n    text-align: center;\r\n    padding-top: calc(50% - 10px);\r\n  }\r\n\r\n  &:active, &:focus {\r\n    &::placeholder {\r\n      color: transparent;\r\n      text-shadow: none;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function LandingPage() {\r\n  const navigate = useNavigate();\r\n  const [name, setName] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [showTitleForm, setShowTitleForm] = useState(false);\r\n\r\n  const createCalendar = useCallback(() => {\r\n    if (name.length < 3 || name.length > 100) {\r\n      return setError('Kérlek 3 és 100 karakter közötti nevet adj meg!');\r\n    }\r\n    post<Calendar>('/create', { name }).then((calendar: Calendar) => {\r\n     navigate(`/${calendar.uuid}`);\r\n    })\r\n  }, [name, navigate]);\r\n\r\n  const enableUploadForm = useCallback(() => {\r\n    setShowTitleForm(showTitleForm => !showTitleForm);\r\n  }, []);\r\n\r\n  const handleNameChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setError('');\r\n    setName(event.target.value)\r\n  }, []);\r\n\r\n  return (\r\n    <Page>\r\n      <BodyBackgroundOverride />\r\n\r\n      <Title>( Boldog )<br />( Karácsonyt! )</Title>\r\n\r\n      <HangingItem style={{ left: '70%', animationDelay: '0.3s' }} className=\"withRope\">\r\n        <ChristmasOrnament />\r\n      </HangingItem>\r\n\r\n      <HangingItem inForeground={true} style={{ left: '10%' }}>\r\n        <ChristmasTree />\r\n      </HangingItem>\r\n\r\n      <TextContainer>\r\n\r\n        {!showTitleForm && (\r\n          <>\r\n            <Text>Készíts te is saját naptárat! Hívd meg a barátaid, töltsetek fel egymásnak meglepetéseket, és várjátok együtt a karácsonyt!</Text>\r\n            <Button onClick={enableUploadForm}>Szeretnék egy saját naptárat!</Button>\r\n          </>\r\n        )}\r\n        {showTitleForm && (\r\n          <>\r\n            <Text>Add meg a naptárad címét, és a gombnyomás után máris kezdheted a feltöltést!<br />A naptárad publikus, de titkos URL mögött van. Ha valakivel közösen szeretnétek meglepni egymást, csak küldd el neki az URL-t, és ő is része lesz az ajándékozásnak!</Text>\r\n\r\n            <Input type=\"text\" value={name} placeholder=\"naptárad címe\" onChange={handleNameChange} /><br />\r\n            <Button onClick={createCalendar}>Mutasd a naptáram!</Button>\r\n          </>\r\n        )}\r\n\r\n        {error && (\r\n          <Error>\r\n            {error}\r\n          </Error>\r\n        )}\r\n      </TextContainer>\r\n    </Page>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport CalendarPage from './components/CalendarPage/CalendarPage';\r\nimport StateWrapper from './components/DataProvider/DataProvider';\r\nimport LandingPage from './components/Home/Home';\r\n\r\nfunction App() {\r\n  return (\r\n    <StateWrapper>\r\n      <Routes>\r\n        <Route path=\"/\" element={<LandingPage />} />\r\n        <Route path=\"/:uuid\" element={<CalendarPage />} />\r\n      </Routes>\r\n    </StateWrapper>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}