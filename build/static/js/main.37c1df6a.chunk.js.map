{"version":3,"sources":["utils/getCurrentDay.ts","utils/api.ts","utils/userId.ts","components/CalendarDay/CalendarDay.tsx","components/UploadForm/DaySelector.tsx","components/UploadForm/ImageUploader.tsx","components/UploadForm/createPreloadPromise.ts","components/PresentListItem/PresentListItem.tsx","components/DataProvider/DataProvider.tsx","components/Modal/Modal.tsx","components/UploadForm/Button.tsx","components/UploadForm/UploadForm.tsx","utils/linkify.ts","components/Presentation/Presentation.tsx","components/CalendarPage/CalendarPage.tsx","components/Home/HangingItem.tsx","components/Home/hanging-christmas-tree-clipart.svg","components/Home/simple-christmas-bulb-clipart.svg","components/Home/Home.tsx","App.tsx","index.tsx"],"names":["enforceDayRegexResult","exec","window","location","search","enforceDay","Number","getCurrentDay","dayInDecember","Math","floor","Date","now","ROOT","getJson","path","fetch","mode","credentials","headers","String","then","response","json","catch","err","console","error","post","body","method","JSON","stringify","res","createAndGetUserId","calendarId","data","rawData","localStorage","getItem","parse","newId","uuid","setItem","DOOR_OPENING_DEGREES","Icon","styled","span","DayContainer","div","props","isOpen","dimensions","css","DayNumber","Door","openingDegree","doubleDoor","Inside","Present","colorValues","green","darkgreen","blue","darkblue","red","darkred","purple","yellow","beige","CalendarDay","dayNumber","isSelected","color","icon","onClick","handleClick","useCallback","canBeOpened","doorOpeningDegree","door","style","backgroundColor","id","Container","Day","PresentsIndicator","disabled","DaySelector","selectedDay","numberOfPresents","onChange","minPresents","reduce","acc","n","range","map","i","indicator","max","min","ceil","Array","fill","_","className","supportedMediaTypes","thumbnail","original","label","DeleteButton","ImageUploader","onImageAdded","onImageRemoved","image","useState","isLoading","setIsLoading","stopPropagation","event","startUpload","e","target","files","length","file","item","value","fd","FormData","append","log","src","public_id","Promise","resolve","reject","img","Image","complete","addEventListener","Error","handleRemove","preventDefault","backgroundImage","type","display","accept","join","ListItem","li","Text","InlineButton","button","PresentListItem","present","onDelete","deleteItem","day","href","rel","alt","content","title","reducer","prevState","action","calendarData","presentsData","myPresents","presentToRemove","find","p","filter","initialState","StateContext","React","createContext","DispatchContext","StateWrapper","useReducer","state","dispatch","Provider","children","Background","Modal","Button","UploadModal","UploadWrapper","Title","h1","Textarea","textarea","Label","Nameinput","input","SubmitButton","ErrorDisplay","CloseButton","Row","ListHeader","h3","List","ul","UploadForm","defaultSelectedDay","onClose","useContext","setSelectedDay","getUserName","username","setUsername","setImage","userId","contentRef","useRef","setError","handleNameChange","handleDayChange","$uploaderArea","document","getElementById","scrollIntoView","behavior","handleSubmit","current","uuidV4","uploader","uploaderName","name","saveUserName","handleDelete","confirm","presentId","handleImageAdded","handleImageRemoved","resetError","useEffect","rows","ref","onInput","placeholder","htmlFor","sort","a","b","youtubeRegex","useLinkifyUrls","textContainerRef","text","innerHTML","inputText","replacedText","replacePattern1","replacePattern2","replacePattern3","replace","createElement","from","querySelectorAll","forEach","parsedUrl","URL","innerText","host","linkify","PresentModal","SlideShow","Slide","SlideInner","textOnly","TextWrap","shortText","Caption","ImageFill","Uploader","BgFiller","Upper","isFull","Lower","PagerWrapper","PagerButton","enabled","Presentation","presents","sliderRef","hasNextPage","setHasNextPage","hasPrevPage","setHasPrevPage","getCurrentIndex","width","offsetWidth","leftPos","scrollLeft","round","gotoIndex","index","childNodes","block","inline","gotoPrevPage","gotoNextPage","handleKeydown","keyCode","removeEventListener","scrollHandler","debounce","scrollWidth","leading","trailing","onScroll","youtubeId","results","parseYoutube","slideContent","YoutubeSlide","MediaSlide","TextSlide","height","frameBorder","allow","allowFullScreen","Wrapper","Description","section","CalendarPage","useParams","isUploadFormOpen","setIsUploadFormOpen","isPresentationOpen","setIsPresentationOpen","currentDay","closeUploadForm","openUploadForm","closePresentation","handleDayClick","clickedDayNumber","setTimeout","classList","add","remove","calendarName","to","HangingItem","inForeground","_extends","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","x1","x2","y2","d","_ref5","_ref6","_ref7","y1","gradientTransform","gradientUnits","offset","stopColor","_ref8","SvgHangingChristmasTreeClipart","_ref","svgRef","titleId","xmlns","xmlSpace","x","y","viewBox","ForwardRef","transform","SvgSimpleChristmasBulbClipart","BodyBackgroundOverride","createGlobalStyle","Page","TextContainer","Input","LandingPage","navigate","useNavigate","setName","showTitleForm","setShowTitleForm","createCalendar","calendar","enableUploadForm","left","animationDelay","App","element","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.37c1df6a.chunk.js","sourcesContent":["const enforceDayRegexResult = /forceday=([0-9]+)/.exec(window.location.search);\nexport const enforceDay = enforceDayRegexResult ? Number(enforceDayRegexResult[1]) : null;\n\n/**\n * Returns a number that is the day difference between now and 2021.12.01\n * Negative number means it's not december yet, positive means the day in december or after\n * Uses force parameter as well\n */\nexport function getCurrentDay(): number {\n  const dayInDecember = Math.floor((Date.now() - Number(new Date('2021/12/01'))) / (1000 * 60 * 60 * 24));\n  return enforceDay !== null ? enforceDay : dayInDecember;\n}\n","import { enforceDay } from \"./getCurrentDay\";\n\nconst ROOT = process.env.NODE_ENV === 'production' ? 'https://adventinaptar.herokuapp.com/api' : 'http://localhost:9000/api';\n\nexport default function getJson<T>(path: string): Promise<T> {\n  return fetch(ROOT + path, {\n    mode: 'cors',\n    credentials: 'omit',\n    headers: {\n      'x-force-day': String(enforceDay)\n    }\n  })\n    .then(response => response.json())\n    .catch(err => console.error(err));\n}\n\nexport function post<T>(path: string, body: any): Promise<T> {\n  return fetch(ROOT + path, {\n    method: 'POST',\n    body: JSON.stringify(body),\n    mode: 'cors',\n    credentials: 'omit',\n    headers: {\n      'Content-Type': 'application/json',\n      'x-force-day': String(enforceDay)\n    }\n  })\n  .then(res => res.json())\n}","import { v4 as uuid } from 'uuid';\n\nexport function createAndGetUserId(calendarId?: string): string | void {\n  if (!calendarId) {\n    return undefined;\n  }\n  const rawData = window.localStorage.getItem('userTokens');\n  let data;\n  try {\n    data = JSON.parse(rawData || '');\n  } catch (err) {\n    data = {};\n  }\n  if (data[calendarId]) {\n    return data[calendarId];\n  }\n  const newId = uuid();\n  data[calendarId] = newId;\n  window.localStorage.setItem('userTokens', JSON.stringify(data));\n  return newId;\n}\n\nexport function getUserName(calendarId: string): string | void {\n  const rawData = window.localStorage.getItem('userNames');\n  let data;\n  try {\n    data = JSON.parse(rawData || '');\n  } catch (err) {\n    data = {};\n  }\n  if (data[calendarId]) {\n    return data[calendarId];\n  }\n  return '';\n}\n\nexport function saveUserName(calendarId: string, name: string): string | void {\n  const rawData = window.localStorage.getItem('userNames');\n  let data;\n  try {\n    data = JSON.parse(rawData || '');\n  } catch (err) {\n    data = {};\n  }\n  data[calendarId] = name;\n  window.localStorage.setItem('userNames', JSON.stringify(data));\n}","import React, { useCallback } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { getCurrentDay } from \"../../utils/getCurrentDay\";\n\nexport const DOOR_ANIMATION_LENGTH = 800; // in ms\nconst DOOR_OPENING_DEGREES = { // in deg\n  open: 70,\n  closed: 0,\n  opened: 5,\n  unopenable: 35\n};\n\nconst Icon = styled.span`\n  font-family: Advent;\n  font-size: 140px;\n  text-shadow: 2px 2px 5px rgba(50 50 50 / 0.5);\n  @media screen and (max-width: 440px) {\n    font-size: 100px;\n  }\n  color: rgba(255 255 255 / 0.8);\n  user-select: none;\n`;\n\nconst DayContainer = styled.div<{\n  dimensions?: 'tall' | 'wide' | 'large';\n  isOpen: boolean;\n}>`\n  position: relative;\n  float: left;\n  width: var(--size);\n  height: var(--size);\n\n  margin-top: 0;\n  margin-right: 0;\n  margin-right: var(--margin);\n  margin-bottom: var(--margin);\n\n  box-sizing: border-box;\n  border-radius: 5px;\n  cursor: pointer;\n\n  perspective: 30rem;\n\n  transform-style: preserve-3d;\n  z-index: ${props => props.isOpen ? 2 : 1};\n\n  background-color: rgba(200 200 200);\n\n  transition: transform 150ms ease-in-out;\n\n  box-shadow: 5px 5px 10px 0 rgba(50, 50, 50, 0.7);\n\n  ${props => props.dimensions === 'tall' && css`\n    height: calc(calc(var(--size) * 2) + var(--margin));\n\n    ${Icon} {\n      font-size: 200px;\n      @media screen and (max-width: 440px) {\n        font-size: 160px;\n      }\n    }\n  `}\n  ${props => props.dimensions === 'wide' && css`\n    width: calc(calc(var(--size) * 2) + var(--margin));\n  `}\n  ${props => props.dimensions === 'large' && css`\n    // overriding perspective, to make the opening nicer\n    perspective:60rem;\n    width: calc(calc(var(--size) * 2) + var(--margin));\n    height: calc(calc(var(--size) * 2) + var(--margin));\n\n    ${Icon} {\n      font-size: 260px;\n    }\n  `}\n`;\n\nconst DayNumber = styled.span`\n  position: absolute;\n  bottom: 0.5rem;\n  left: 1rem;\n  font-size: 20px;\n  color: rgba(255 255 255 / 0.9);\n  text-shadow: 2px 2px 5px rgba(50 50 50 / 0.5);\n`;\n\nconst Door = styled.div<{ openingDegree: number; doubleDoor?: 'left' | 'right' }>`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding-right: 0.5rem;\n\n  /* this makes things 3d */\n  transition: transform ${DOOR_ANIMATION_LENGTH}ms ease-in-out;\n  /* rotate rotates(!), translateZ fixes safari... */\n  transform: rotate3d(0, 1, 0, 0) translateZ(1px);\n  transform-origin: left 0; /* hogy a bal sarok nyiljon */\n  transform-style: preserve-3d;\n  z-index: 2;\n\n  ${props => props.openingDegree ? css`\n    transform: rotate3d(0, 1, 0, ${props.doubleDoor === 'right' ? props.openingDegree : props.openingDegree * -1}deg) translateZ(1px);\n  ` : ''}\n\n  ${props => props.doubleDoor ? css`\n    width: 50%;\n  ` : ''}\n\n  ${props => props.doubleDoor === 'right' && css`\n    left: 50%;\n    transform-origin: right 0;\n  `}\n`;\n\nconst Inside  = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform-style: preserve-3d;\n  // transform: rotate(0deg) translateX(0) translateZ(1px);\n`;\n\nconst Present = styled.div<{ isOpen: boolean }>`\n  font-family: Advent;\n  font-size: 10em;\n  margin-left: 10px;\n  transition: transform 400ms linear 400ms;\n  z-index: 10;\n  transform-style: preserve-3d;\n\n  transform: rotate(0deg) translateX(0) translateZ(0);\n  ${props => props.isOpen && css`\n    transform: rotate(10deg) translateX(20%) translateZ(0);\n  `}\n`;\n\nconst colorValues = {\n  green: '#146B3A',\n  darkgreen: '#165B33',\n  blue: '#0f354f',\n  darkblue: '#0c142e',\n  red: '#EA4630',\n  darkred: '#BB2528',\n  purple: '#57000c',\n  yellow: '#F8B229',\n  beige: '#cc954a',\n};\n\ntype Props = {\n  dayNumber: number;\n  isSelected?: boolean;\n  dimensions?: 'tall' | 'wide' | 'large';\n  color: keyof typeof colorValues;\n  icon: string;\n  onClick: (dayNumber: number) => void;\n}\n\nexport default function CalendarDay({\n  dayNumber,\n  isSelected,\n  dimensions,\n  color,\n  icon,\n  onClick\n}: Props) {\n\n  const handleClick = useCallback(() => onClick(dayNumber), [dayNumber, onClick]);\n\n  const dayInDecember = getCurrentDay();\n  const canBeOpened = (dayInDecember >= dayNumber && dayInDecember > -1);\n\n  const doorOpeningDegree = (() => {\n    if (isSelected && canBeOpened) {\n      return DOOR_OPENING_DEGREES['open'];\n    } else if (!isSelected && canBeOpened) {\n      return DOOR_OPENING_DEGREES['opened'];\n    } else if (isSelected) {\n      return DOOR_OPENING_DEGREES['unopenable'];\n    }\n    return DOOR_OPENING_DEGREES['closed'];\n  })();\n\n  const door = dimensions === 'wide' ? (\n    <>\n      <Door\n        openingDegree={doorOpeningDegree}\n        doubleDoor=\"left\"\n        style={{\n          backgroundColor: colorValues[color]\n        }}\n      >\n        <DayNumber>{dayNumber + 1}</DayNumber>\n      </Door>\n      <Door\n        openingDegree={doorOpeningDegree}\n        doubleDoor=\"right\"\n        style={{\n          backgroundColor: colorValues[color]\n        }}\n      >\n        <Icon>{icon}</Icon>\n      </Door>\n    </>\n  ) : (\n    <Door\n      openingDegree={doorOpeningDegree}\n      style={{\n        backgroundColor: colorValues[color]\n      }}\n    >\n      <Icon>{icon}</Icon>\n      <DayNumber>{dayNumber + 1}</DayNumber>\n    </Door>\n  );\n\n  return (\n    <DayContainer\n      id={`day_${dayNumber}`}\n      dimensions={dimensions}\n      isOpen={isSelected}\n      onClick={handleClick}\n    >\n      {door}\n      <Inside>\n        <Present isOpen={isSelected}>{canBeOpened ? 'I' : 'R'}</Present>\n      </Inside>\n\n    </DayContainer>\n  )\n}\n","import styled, { css } from \"styled-components\"\nimport { getCurrentDay } from \"../../utils/getCurrentDay\";\n\ntype Props = {\n  selectedDay?: number;\n  numberOfPresents: number[];\n  onChange: (day: number) => void;\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-end;\n  justify-content: space-around;\n  max-width: 420px;\n  @media screen and (max-width: 440px) {\n    max-width: 270px;\n  }\n`;\n\nconst Day = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: flex-end;\n  cursor: pointer;\n  width: 70px;\n  @media screen and (max-width: 440px) {\n    width: 45px;\n  }\n`;\n\nconst PresentsIndicator = styled.div<{ isSelected?: boolean; }>`\n  position: absolute;\n  top: 0;\n  right: 10px;\n  color: black;\n  font-size: 16px;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: flex-start;\n  flex-direction: column;\n  width: 10px;\n\n  @media screen and (max-width: 440px) {\n    right: 5px;\n  }\n\n  .icon {\n    font-size: 20px;\n    line-height: 17px;\n    font-family: Advent;\n  }\n\n  ${props => props.isSelected && css`\n    color: rgba(250 250 250 / 0.9);\n  `}\n`;\n\nconst DayNumber = styled.div<{ isSelected?: boolean; disabled?: boolean }>`\n  position: relative;\n  font-size: 36px;\n  @media screen and (max-width: 440px) {\n    font-size: 30px;\n  }\n  color: rgba(0 0 0 / ${props => props.disabled ? '0.25' : '0.65'});\n  max-width: 35px;\n  margin-right: 25px;\n\n  @media screen and (max-width: 440px) {\n    margin-right: 15px;\n  }\n\n  ${props => props.isSelected && css`\n    color: rgba(250 250 250 / 0.9);\n    &:before {\n      display: block;\n      content: '';\n      position: absolute;\n      top: 0px;\n      bottom: 0px;\n      left: -15px;\n      right: -25px;\n      background-color: #F44336;\n      z-index: -1;\n      border-radius: 5px;\n\n      @media screen and (max-width: 440px) {\n        left: 0px;\n        right: -15px;\n      }\n    }\n  `}\n`;\n\nexport default function DaySelector({\n  selectedDay,\n  numberOfPresents,\n  onChange\n}: Props) {\n  const minPresents = numberOfPresents.reduce((acc, n) => {\n    if (n < acc) {\n      return n;\n    }\n    return acc;\n  }, numberOfPresents[0]);\n  const maxPresents = numberOfPresents.reduce((acc, n) => {\n    if (n > acc) {\n      return n;\n    }\n    return acc;\n  }, numberOfPresents[0]);\n  const range = maxPresents - minPresents;\n  return (\n    <Container>\n      {numberOfPresents.map((n, i) => {\n        const indicator = (range > 0) ? (() => {\n          if (n === 0) {\n            return 0;\n          }\n          return Math.max(Math.min(Math.ceil(((n - minPresents) / range) * 2), n), 1);\n        })() : (minPresents > 0 ? 1 : 0);\n        const disabled = i <= getCurrentDay();\n        return (\n          <Day key={i} onClick={() => disabled ? null : onChange(i)}>\n            <DayNumber disabled={disabled} isSelected={i === selectedDay}>{i + 1}</DayNumber>\n            <PresentsIndicator isSelected={i === selectedDay}>\n              {(new Array(indicator)).fill(true).map((_, i) => (\n                <span className=\"icon\" key={i}>h</span>\n              ))}\n            </PresentsIndicator>\n          </Day>\n        );\n      })}\n    </Container>\n  )\n}\n","import styled from \"styled-components\"\nimport React, { useCallback, useState } from \"react\";\nimport createImagePreloadPromise from \"./createPreloadPromise\";\n\nconst cloudName = 'adventcalendar';\nconst unsignedUploadPreset = 'ml_default';\nconst supportedMediaTypes = [\n  'image/gif',\n  'image/jpeg',\n  'image/png',\n  'image/svg+xml',\n  'image/webp'\n];\n\nexport const thumbnail = (id: string) => `https://res.cloudinary.com/adventcalendar/image/upload/w_200,h_200,c_fit/${id}.jpg`;\nexport const original = (id: string) => `https://res.cloudinary.com/adventcalendar/image/upload/${id}.jpg`;\n\nconst Container = styled.label`\n  width: 200px;\n  height: 200px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  border-radius: 3px;\n  background-position: center center;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-color: #e0a452;\n  position: relative;\n  font-size: 1.2em;\n  cursor: pointer;\n`;\n\nconst DeleteButton = styled.div`\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  background: red;\n  color: white;\n  cursor: pointer;\n  padding: 2px;\n`\n\n\ntype Props = {\n  image: string | null;\n  onImageAdded: (img: string) => void;\n  onImageRemoved: () => void;\n}\n\nexport default function ImageUploader({\n  onImageAdded,\n  onImageRemoved,\n  image\n}: Props) {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const stopPropagation = useCallback((event: React.MouseEvent<HTMLElement>) => {\n    event.stopPropagation();\n  }, []);\n\n  const startUpload = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files.length) {\n      setIsLoading(true);\n      const file = e.target.files.item(0);\n      if (!file) {\n        return; // Shouldn't happen\n      }\n      e.target.value = '';\n      const fd = new FormData();\n      fd.append('upload_preset', unsignedUploadPreset);\n      fd.append('tags', 'browser_upload'); // Optional - add tag for image admin in Cloudinary\n      fd.append('file', file);\n      fetch(`https://api.cloudinary.com/v1_1/${cloudName}/upload`, {\n        method: 'POST',\n        body: fd,\n        headers: {\n          'X-Requested-With': 'XMLHttpRequest'\n        }\n      })\n      .then(response => response.json())\n      .then(response => {\n        console.log(response);\n        return createImagePreloadPromise(thumbnail(response.public_id))\n          .then(() => {\n            onImageAdded(response.public_id);\n            setIsLoading(false);\n          });\n      })\n      .catch(err => {\n        setIsLoading(false);\n        console.error(err);\n      })\n    }\n  }, [onImageAdded]);\n\n  const handleRemove = useCallback((event: React.MouseEvent) => {\n    event.stopPropagation();\n    event.preventDefault();\n    onImageRemoved();\n  }, [onImageRemoved]);\n\n  if (!image) {\n    return (\n      <Container onClick={stopPropagation}>\n        <input\n          type=\"file\"\n          style={{ display: \"none\" }}\n          onChange={startUpload}\n          accept={supportedMediaTypes.join(', ')}\n        />\n        {isLoading ? 'Töltés...' : 'Tölts fel egy képet!'}\n      </Container>\n    )\n  }\n\n  return (\n    <Container\n      onClick={stopPropagation}\n      style={{\n        backgroundImage: `url('${thumbnail(image)}')`\n      }}\n    >\n      <DeleteButton onClick={handleRemove}>Törlés</DeleteButton>\n    </Container>\n  )\n}","/**\n * Promisify preloading an image. Resolve when the image is preloaded\n */\n export default function createImagePreloadPromise(src: string | null) {\n  return new Promise<void>((resolve, reject) => {\n    if (!src) {\n      return resolve();\n    }\n    const img = new Image();\n    img.src = src;\n    if (img.complete) {\n      resolve();\n    } else {\n      const handleLoad = () => resolve();\n      img.addEventListener('load', handleLoad);\n\n      const handleError = () => reject(new Error('Image loading falied'));\n      img.addEventListener('error', handleError);\n    }\n  });\n}","import styled from 'styled-components';\nimport { useCallback } from \"react\";\nimport { Present } from \"../../types\";\nimport { original, thumbnail } from '../UploadForm/ImageUploader';\nimport { getCurrentDay } from '../../utils/getCurrentDay';\n\nconst ListItem = styled.li`\n  margin: 0.3em;\n  display: flex;\n  align-items: center;\n\n  a {\n    display: flex;\n  }\n\n  img {\n    max-height: 20px;\n    max-width: 20px;\n    display: inline-block;\n    margin: 0 3px;\n  }\n\n  ::before {\n    display: inline-block;\n    font-family: Advent;\n    content: 'h';\n    margin-right: 3px;\n  }\n`;\n\nconst Text = styled.span`\n  margin-left: 5px;\n  @media screen and (max-width: 440px) {\n    font-size: 0.9em;\n  }\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\n\nconst Date = styled.span`\n  white-space: nowrap;\n  font-weight: bold;\n  font-size: 0.9em;\n`;\n\nexport const InlineButton = styled.button`\n  display: inline-block;\n  margin: 0 0 0 10px;\n  outline: none;\n  border: none;\n  border-radius: 3px;\n  padding: 0.3em;\n\n  font-family: inherit;\n  box-shadow: 2px 2px 17px 0px #0000005c;\n  background-color: #F44336;\n  color: #fff;\n`;\n\nexport default function PresentListItem({\n  present,\n  onDelete\n}: {\n  present: Present;\n  onDelete: (present: Present) => void;\n}) {\n\n  const deleteItem = useCallback(() => onDelete(present), [onDelete, present])\n\n  return (\n    <ListItem>\n      <Date>Dec. {present.day + 1}:</Date> {present.image && (\n        <a href={original(present.image)} target=\"_blank\" rel=\"noreferrer\">\n          <img src={thumbnail(present.image)} alt={present.content} />\n        </a>\n      )} <Text title={present.content}>{present.content}</Text> {present.day > getCurrentDay() && <InlineButton onClick={deleteItem}>✖</InlineButton>}\n    </ListItem>\n  )\n}\n","import React, { Dispatch, useReducer } from \"react\";\nimport { Present } from \"../../types\";\n\nexport type CalendarData = {\n  presents: Present[];\n  numberOfPresents: number[];\n  calendarName: string;\n}\n\ntype State = {\n  calendarData: CalendarData | null;\n  myPresents: Present[];\n}\n\nexport type Action = {\n  type: 'SET_PRESENTS_DATA';\n  presentsData: CalendarData | null;\n} | {\n  type: 'SET_MYPRESENTS';\n  myPresents: Present[];\n} | {\n  type: 'ADD_PRESENT';\n  present: Present;\n} | {\n  type: 'DELETE_PRESENT';\n  uuid: string;\n}\n\nfunction reducer(prevState: State, action: Action): State {\n  switch (action.type) {\n    case 'SET_PRESENTS_DATA':\n      return {\n        ...prevState,\n        calendarData: action.presentsData\n      };\n    case 'SET_MYPRESENTS':\n      return {\n        ...prevState,\n        myPresents: action.myPresents\n      };\n    case 'ADD_PRESENT':\n      return {\n        calendarData: {\n          ...prevState.calendarData,\n          numberOfPresents: prevState.calendarData?.numberOfPresents.map((n, i) => i === action.present.day ? n + 1 : n),\n        },\n        myPresents: [...prevState.myPresents, action.present]\n      };\n    case 'DELETE_PRESENT': {\n      const presentToRemove = prevState.myPresents.find(p => p.uuid === action.uuid);\n      if (!presentToRemove) {\n        return prevState;\n      }\n      return {\n        calendarData: {\n          ...prevState.calendarData,\n          numberOfPresents: prevState.calendarData?.numberOfPresents.map((n, i) => i === presentToRemove.day ? n - 1 : n),\n        },\n        myPresents: prevState.myPresents.filter(p => p.uuid !== action.uuid)\n      }\n    }\n  }\n}\n\nconst initialState: State = {\n  calendarData: null,\n  myPresents: []\n}\n\nexport const StateContext = React.createContext<State>(initialState);\n\nexport const DispatchContext = React.createContext<Dispatch<Action>>(() => null);\n\ntype Props = {\n  children: React.ReactNode;\n}\n\nexport default function StateWrapper(props: Props): React.ReactElement {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {props.children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n}","import styled from \"styled-components\";\n\nexport const Background = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255,255,255,0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  z-index: 10;\n\n  // this makes it appear above the opening doors (where perspective is set to 30em/60em)\n  transform: translateZ(61em);\n\n  // appearing animation\n  @keyframes fadein {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n  animation: 100ms linear fadein;\n`;\n\nexport const Modal = styled.div`\n  position: relative;\n  width: 90%;\n  max-width: 700px;\n  min-height: 300px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  box-sizing: border-box;\n  margin: 2em;\n  z-index: 10;\n\n  // appearing animation\n  @keyframes slidein {\n    from { transform: scale(0); }\n    to { transform: scale(1); }\n  }\n  animation: 300ms ease-in-out slidein;\n`;\n","import styled from 'styled-components';\n\nexport const Button = styled.button`\n  display: block;\n  margin: 2em auto;\n  outline: none;\n  border: none;\n  border-radius: 1em;\n  padding: 1rem;\n\n  font-family: inherit;\n  font-size: 1.5rem;\n  text-shadow: 1px 1px 2px rgba(50 50 50 / 0.5);\n  box-shadow: 2px 2px 17px 0px #0000005c;\n  background-color: rgba(204, 149, 74, 0.9);\n  color: #fff;\n\n  transition: transform 100ms linear, background-color 100ms linear;\n\n  :hover {\n    background-color: rgba(204, 149, 74, 1);\n    transform: scale(1.05);\n  }\n`;\n","import React, { useCallback, useContext, useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { createAndGetUserId, getUserName, saveUserName } from \"../../utils/userId\";\nimport DaySelector from \"./DaySelector\";\nimport PresentListItem from \"../PresentListItem/PresentListItem\";\nimport { Present } from \"../../types\";\nimport { v4 as uuidV4 } from 'uuid';\nimport { post } from \"../../utils/api\";\nimport { DispatchContext, StateContext } from \"../DataProvider/DataProvider\";\nimport { Background, Modal } from \"../Modal/Modal\";\nimport ImageUploader from \"./ImageUploader\";\nimport { Button } from './Button';\nimport { getCurrentDay } from \"../../utils/getCurrentDay\";\n\nconst UploadModal = styled(Modal)`\n  background-color: #cc954a;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px 0 rgba(50, 50, 50, 0.7);\n`;\n\nconst UploadWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 2em;\n  box-sizing: border-box;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  color: rgba(10 10 10 / 0.75);\n`;\n\nconst Title = styled.h1`\n  font-family: 'Great Vibes', cursive;\n  font-size: 5em;\n  color: rgba(250 250 250 / 0.9);\n  text-shadow: 2px 3px 5px rgba(50 50 50 / 0.6);\n  margin: 2rem 0 1rem;\n  padding: 0;\n  width: 100%;\n  text-align: center;\n\n  @media screen and (max-width: 440px) {\n    margin: 0.5rem 0;\n    font-size: 2.5em;\n  }\n`;\n\nconst Text = styled.p`\n  color: #f7f7f7e8;\n  font-size: 1.2em;\n  line-height: 1.5em;\n  @media screen and (max-width: 440px) {\n    font-size: 1.2em;\n    line-height: 1.65em;\n  }\n\n  text-align: center;\n  text-shadow: 2px 2px 5px rgba(50 50 50 / 0.5);\n  width: 90%;\n`;\n\nconst Textarea = styled.textarea`\n  width: 200px;\n  height: 200px;\n  font-family: inherit;\n  font-size: 1.2em;\n  padding: 0.5em;\n  box-sizing: border-box;\n\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  border-radius: 3px;\n  background-color: #e0a452;\n\n  &::placeholder {\n    color: rgba(10 10 10 / 0.75);\n    text-align: center;\n    padding-top: calc(50% - 10px);\n  }\n\n  &:active, &:focus {\n    &::placeholder {\n      color: transparent;\n    }\n  }\n`;\n\nconst Label = styled.label`\n  font-size: 1.2em;\n  @media screen and (max-width: 440px) {\n    font-size: 1.1em;\n  }\n`;\n\nconst Nameinput = styled.input`\n  width: 200px;\n  font-family: inherit;\n  font-size: 1.2em;\n  padding: 0.5em;\n  box-sizing: border-box;\n  margin: 0.5em 0 1em 0;\n  border: 1px solid rgba(0, 0, 0, 0.3);\n  border-radius: 3px;\n  background-color: #e0a452;\n  text-align: center;\n\n  &::placeholder {\n    color: rgba(10 10 10 / 0.3);\n    text-align: center;\n  }\n\n  &:active, &:focus {\n    &::placeholder {\n      color: transparent;\n    }\n  }\n`;\n\nconst SubmitButton = styled(Button)`\n  margin: 0.5em;\n  background-color: hsl(145deg 61% 30%);\n  :hover {\n    background-color: hsl(145deg 61% 35%);\n  }\n`;\n\nconst ErrorDisplay = styled.p`\n  color: red;\n`;\n\nconst CloseButton = styled.div`\n  position: absolute;\n  right: 1em;\n  top: 1em;\n  padding: 1em;\n  cursor: pointer;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  margin: 1em 0;\n  > * {\n    margin: 0.5em 1em;\n  }\n`;\n\nconst ListHeader = styled.h3`\n  margin: 1.5em 0 0.5em;\n  padding: 0;\n  font-size: 1.3em;\n`;\n\nconst List = styled.ul`\n  width: 80%;\n  @media screen and (max-width: 440px) {\n    width: 100%;\n  }\n  margin: 0 auto;\n  padding-left: 0;\n  list-style-type: '⭐️';\n`;\n\ntype Props = {\n  calendarId: string;\n  defaultSelectedDay: number | null;\n  onClose: () => void;\n}\n\nexport default function UploadForm({\n  calendarId,\n  defaultSelectedDay,\n  onClose\n}: Props) {\n  const { calendarData, myPresents } = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n  const numberOfPresents = calendarData.numberOfPresents;\n  const [selectedDay, setSelectedDay] = useState(defaultSelectedDay);\n  const [username, setUsername] = useState(getUserName(calendarId) || '');\n  const [image, setImage] = useState<string | null>(null);\n  const userId = createAndGetUserId(calendarId);\n  const contentRef = useRef(null);\n  const [error, setError] = useState('');\n\n  const handleNameChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => setUsername(event.target.value), []);\n  const handleDayChange = useCallback((day: number) => {\n    setSelectedDay(day);\n    const $uploaderArea = document.getElementById('uploaderArea');\n    if ($uploaderArea) {\n      $uploaderArea.scrollIntoView({ behavior: 'smooth' });\n    }\n    setError('');\n  }, []);\n\n  const handleSubmit = useCallback(() => {\n    const content = contentRef.current?.value;\n    if (!content && !image) {\n      return setError('Adj meg vagy egy képet vagy egy üzenetet!');\n    }\n    if (content.length > 2000) {\n      return setError('Az üzenet maximális hossza 2000 karakter!');\n    }\n    if (username?.length > 100) {\n      return setError('A felhasználónév nem lehet hosszabb, mint 100 karakter!');\n    }\n    if (selectedDay === null) {\n      return setError('Válassz ki egy napot!');\n    }\n    if (selectedDay <= getCurrentDay()) {\n      return setError('Csak december későbbi napjaira tudsz feltölteni!');\n    }\n    const present: Present = {\n      uuid: uuidV4(),\n      day: selectedDay,\n      uploader: userId || '',\n      uploaderName: username,\n      content,\n      image\n    };\n    post('/calendar/' + calendarId, present);\n    saveUserName(calendarId, username);\n    contentRef.current.value = '';\n    setImage(null);\n    dispatch({\n      type: 'ADD_PRESENT',\n      present\n    });\n  }, [calendarId, dispatch, image, selectedDay, userId, username]);\n\n  const handleDelete = useCallback((present: Present) => {\n    if (!window.confirm('Are you sure you want to delete this present?')) {\n      return;\n    }\n    post('/calendar/' + calendarId + '/remove', {\n      presentId: present.uuid,\n      userId\n    });\n    dispatch({\n      type: 'DELETE_PRESENT',\n      uuid: present.uuid\n    });\n  }, [calendarId, dispatch, userId]);\n\n  const handleImageAdded = useCallback((image: string) => setImage(image), []);\n  const handleImageRemoved = useCallback(() => setImage(null), []);\n\n  const resetError = useCallback(() => setError(''), []);\n\n  useEffect(function resetError() {\n    setError('');\n  }, [username, selectedDay, image]);\n\n  return (\n    <Background onClick={onClose}>\n      <UploadModal onClick={(e: React.MouseEvent) => e.stopPropagation()}>\n        <UploadWrapper>\n          <CloseButton onClick={onClose}>x</CloseButton>\n          <Title>Ajándékozni jó!</Title>\n          <Text>\n            Tölts fel egy képet, rövid szöveget, vagy akár egy Youtube linket a kiválasztott napra!<br />\n            Azon a napon mindenki, aki rendelkezik a naptár URL-jével, látni fogja a feltöltésed.\n          </Text>\n\n          <DaySelector\n            selectedDay={selectedDay}\n            numberOfPresents={numberOfPresents}\n            onChange={handleDayChange}\n          />\n\n          <Row id=\"uploaderArea\">\n            <ImageUploader\n              onImageAdded={handleImageAdded}\n              onImageRemoved={handleImageRemoved}\n              image={image}\n            />\n            <div>\n              <Textarea rows={5} ref={contentRef} onInput={resetError} placeholder=\"Vagy írj üzenetet!\"></Textarea>\n            </div>\n          </Row>\n\n          <Label htmlFor=\"usernameField\">És ha szeretnéd a neved is megadhatod</Label>\n          <Nameinput id=\"usernameField\" type=\"text\" value={username} placeholder=\"névtelen ajándékozó\" onChange={handleNameChange} />\n\n          <SubmitButton onClick={handleSubmit}>Mehet</SubmitButton>\n          {error && (\n            <ErrorDisplay>\n              {error}\n            </ErrorDisplay>\n          )}\n          {myPresents.length > 0 && (\n            <>\n              <ListHeader>Erről az eszközről korábban feltöltött ajándékaid:</ListHeader>\n              <List>\n                {myPresents.sort((a, b) => a.day - b.day).map(present => (\n                  <PresentListItem key={present.uuid} present={present} onDelete={() => handleDelete(present)} />\n                ))}\n              </List>\n            </>\n          )}\n        </UploadWrapper>\n      </UploadModal>\n    </Background>\n  )\n}\n","import { useEffect, useRef } from \"react\";\n\nconst youtubeRegex = /^http(?:s?):\\/\\/(?:www\\.)?youtu(?:be\\.com\\/watch\\?v=|\\.be\\/)([\\w\\-\\_]*)(&(amp;)?‌​[\\w\\?‌​=]*)?$/;\nexport function parseYoutube(inputText: string): string | null {\n  const results = youtubeRegex.exec(inputText);\n  if (results) {\n    return results[1];\n  }\n  return null;\n}\n\nfunction linkify(inputText: string): string {\n  var replacedText, replacePattern1, replacePattern2, replacePattern3;\n\n  //URLs starting with http://, https://, or ftp://\n  replacePattern1 = /(\\b(https?|ftp):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gim;\n  replacedText = inputText.replace(replacePattern1, '<a href=\"$1\" target=\"_blank\">$1</a>');\n\n  //URLs starting with \"www.\" (without // before it, or it'd re-link the ones done above).\n  replacePattern2 = /(^|[^\\/])(www\\.[\\S]+(\\b|$))/gim;\n  replacedText = replacedText.replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>');\n\n  //Change email addresses to mailto:: links.\n  replacePattern3 = /(([a-zA-Z0-9\\-\\_\\.])+@[a-zA-Z\\_]+?(\\.[a-zA-Z]{2,6})+)/gim;\n  replacedText = replacedText.replace(replacePattern3, '<a href=\"mailto:$1\">$1</a>');\n\n  const div = document.createElement('div');\n  div.innerHTML = replacedText;\n  Array.from(div.querySelectorAll('a')).forEach(a => {\n    try {\n      const parsedUrl = new URL(a.href);\n      a.innerText = `[${parsedUrl.host}]`;\n    } catch (err) {\n      console.error(a.href)\n      console.error(err);\n    }\n  });\n\n  return div.innerHTML;\n}\n\nexport default function useLinkifyUrls() {\n  const textContainerRef = useRef(null);\n\n  useEffect(() => {\n    if (textContainerRef.current) {\n      const text = textContainerRef.current.innerHTML;\n      textContainerRef.current.innerHTML = linkify(text);\n    }\n  }, []);\n\n  return textContainerRef;\n}","import React, { useContext, useCallback, useState, useRef, useEffect } from \"react\"\nimport styled, { css } from \"styled-components\";\nimport debounce from 'lodash/debounce';\nimport useLinkifyUrls, { parseYoutube } from \"../../utils/linkify\";\nimport { StateContext } from \"../DataProvider/DataProvider\";\nimport { Background, Modal } from \"../Modal/Modal\"\nimport { original } from '../UploadForm/ImageUploader';\n\n\ntype Props = {\n  dayNumber: number;\n  onClose: () => void;\n}\n\nconst BGFILLER_ENABLED = true;\n\nconst PresentModal = styled(Modal)`\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 5px 5px 10px 0 rgba(50, 50, 50, 0.7);\n  min-width: 95%;\n  min-height: 95%;\n  overflow: hidden;\n`;\n\nconst SlideShow = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  overflow-x: scroll;\n  flex-grow: 1;\n  width: 100%;\n  height: 100%;\n  scroll-snap-type: x mandatory;\n`\n\nconst Slide = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-shrink: 0;\n  scroll-snap-align: center;\n  scroll-snap-stop: always;\n`;\n\nconst SlideInner = styled.div<{ textOnly: boolean }>`\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  overflow-y: scroll;\n\n  // hide scrollbars\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  text-align: center;\n\n  ${props => props.textOnly && css`\n    text-align: left;\n    padding: 2em 4em;\n    @media screen and (max-width: 440px) {\n      padding: 1.5em;\n    }\n  `}\n`;\n\nconst Text = styled.p`\n  color: rgb(0 0 0 / 70%);\n  line-height: 1.6em;\n  font-style: italic;\n  overflow-wrap: break-word;\n  max-width: 80%;\n  @media screen and (max-width: 440px) {\n    max-width: 100%;\n  }\n`;\n\nconst TextWrap = styled.div<{ shortText: boolean }>`\n  display: flex;\n  min-height: 100%;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 2em 0;\n  box-sizing: border-box;\n\n  font-size: 1.5em;\n  @media screen and (max-width: 440px) {\n    font-size: 1.2em;\n  }\n\n  ${props => props.shortText && css`\n    justify-content: center;\n    font-size: 2em;\n    @media screen and (max-width: 440px) {\n      font-size: 1.5em;\n    }\n\n    & ${Text} {\n      text-align: center;\n      max-width: 60%;\n      @media screen and (max-width: 440px) {\n        max-width: 100%;\n      }\n    }\n  `}\n`;\n\n\nconst Caption = styled.div`\n  font-size: 1.5em;\n  display: inline-block;\n  margin: 1em auto 1em;\n  width: 60%;\n  @media screen and (max-width: 440px) {\n    width: 90%;\n  }\n  text-align: left;\n  color: rgb(0 0 0 / 70%);\n  line-height: 1.6em;\n  font-style: italic;\n  overflow-wrap: break-word;\n`;\n\nconst ImageFill = styled.img`\n  display: block;\n  max-width: 95%;\n  max-height: 95%;\n  width: auto;\n  height: auto;\n  border: 2px solid white;\n`;\n\nconst Uploader = styled.div`\n  font-family: cursive;\n  font-size: 0.9em;\n  text-align: right;\n  width: 60%;\n  @media screen and (max-width: 440px) {\n    max-width: 100%;\n  }\n`;\n\nconst BgFiller = styled.div<{ src: string }>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  content: '';\n  background-image: url(${props => props.src});\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  z-index: -1;\n  filter: blur(10px) brightness(1.5);\n`;\n\nconst Upper = styled.div<{ isFull?: boolean }>`\n  height: ${props => props.isFull ? '100%' : '80%'};\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`\n\nconst Lower = styled.div`\n  height: 20%;\n`\n\nconst PagerWrapper = styled.div`\n  // at the bottom of modal\n  position: absolute;\n  bottom: 0px;\n  right: 0;\n  width: 100%;\n  box-sizing: border-box;\n  // with some spacing left form the edges\n  padding: 0 1em;\n  @media screen and (max-width: 440px) {\n    padding: 0 0.2em;\n  }\n  // aligned with the buttons at the edges\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  // above everything\n  z-index: 1;\n`;\n\nconst PagerButton = styled.a<{ enabled: boolean }>`\n  color: #479e6b;\n  text-shadow: 1px 3px 1px #62626261;\n  font-size: 10em;\n  cursor: pointer;\n  @media screen and (max-width: 440px) {\n    font-size: 5em;\n  }\n  transition: opacity 250ms ease-in;\n  opacity: ${props => props.enabled ? 1 : 0};\n`;\n\nconst CloseButton = styled.a`\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 0.5em;\n  z-index: 1;\n  cursor: pointer;\n  color: #ff434380;\n  // text-shadow: 1px 3px 1px #62626261;\n  font-size: 1.5em;\n`;\n\nexport default function Presentation({\n  dayNumber,\n  onClose\n}: Props) {\n  const { calendarData } = useContext(StateContext);\n  const presents = calendarData.presents.filter(p => p.day === dayNumber);\n\n  // paging related\n  const sliderRef = useRef<HTMLDivElement | null>(null);\n  const [hasNextPage, setHasNextPage] = useState(presents.length > 0);\n  const [hasPrevPage, setHasPrevPage] = useState(false);\n\n  function getCurrentIndex() {\n    if (!sliderRef.current) {\n      return 0;\n    }\n    const width = sliderRef.current.offsetWidth;\n    const leftPos = sliderRef.current.scrollLeft;\n    return Math.round(leftPos / width);\n  }\n\n  function gotoIndex(index) {\n    if (!sliderRef.current.childNodes[index]) {\n      return;\n    }\n    sliderRef.current.childNodes[index].scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n      inline: 'center'\n    });\n  }\n\n  const gotoPrevPage = useCallback(() => {\n    gotoIndex(getCurrentIndex() - 1);\n  }, []);\n\n  const gotoNextPage = useCallback(() => {\n    gotoIndex(getCurrentIndex() + 1);\n  }, []);\n\n  const handleKeydown = useCallback((event: KeyboardEvent) => {\n    if (event.keyCode === 37) {\n      gotoPrevPage();\n    }\n    if (event.keyCode === 39) {\n      gotoNextPage();\n    }\n\n  }, [gotoNextPage, gotoPrevPage]);\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeydown);\n    return () => {\n      document.removeEventListener('keydown', handleKeydown);\n    }\n  }, [])\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const scrollHandler = useCallback(debounce(function scrollPosChecker() {\n    if (!sliderRef.current) {\n      return;\n    }\n    const width = sliderRef.current.offsetWidth;\n    const scrollWidth = sliderRef.current.scrollWidth;\n    const leftPos = sliderRef.current.scrollLeft;\n\n    setHasPrevPage(leftPos > 0);\n    setHasNextPage((leftPos + width) < (scrollWidth - 50));\n  }, 30, { leading: false, trailing: true }), []);\n\n  return (\n    <Background onClick={onClose}>\n      <PresentModal onClick={(e: React.MouseEvent) => e.stopPropagation()}>\n\n        <PagerWrapper>\n          <PagerButton onClick={gotoPrevPage} enabled={hasPrevPage}>‹</PagerButton>\n          <PagerButton onClick={gotoNextPage} enabled={hasNextPage}>›</PagerButton>\n        </PagerWrapper>\n\n        <CloseButton onClick={onClose}>✖</CloseButton>\n\n        <SlideShow ref={sliderRef} onScroll={scrollHandler}>\n          {presents.map((present, i) => {\n            const youtubeId = parseYoutube(present.content);\n\n            const slideContent = (() => {\n              if (youtubeId) {\n                return <YoutubeSlide id={youtubeId} present={present} />;\n              }\n              if (present.image) {\n                return <MediaSlide present={present} />;\n              }\n              return <TextSlide present={present} />\n            })();\n\n            return (\n              <Slide key={present.uuid}>\n                {slideContent}\n              </Slide>\n            );\n          })}\n          {presents.length === 0 && (\n            <SlideInner textOnly={true}>\n              <Text>A mai napra senki nem töltött föl semmit :(</Text>\n            </SlideInner>\n          )}\n        </SlideShow>\n      </PresentModal>\n    </Background>\n  )\n}\n\nconst MediaSlide = ({present}) => {\n  const textContainerRef = useLinkifyUrls();\n  return (\n    <>\n      <SlideInner textOnly={false}>\n        <Upper isFull={!present.content && !present.uploaderName}>\n          {BGFILLER_ENABLED && <BgFiller src={original(present.image)} />}\n          <ImageFill src={original(present.image)} />\n        </Upper>\n\n        {(present.content || present.uploaderName) && (\n          <Lower>\n              <Caption ref={textContainerRef}>\n                {present.content}\n                <Uploader>{present.uploaderName ? `- ${present.uploaderName}` : null}</Uploader>\n              </Caption>\n          </Lower>\n        )}\n\n      </SlideInner>\n    </>\n  );\n}\n\nconst TextSlide = ({present}) => {\n  const textContainerRef = useLinkifyUrls();\n  return (\n    <>\n      <SlideInner textOnly={true}>\n        <TextWrap shortText={present.content.length < 300}>\n          <Text ref={textContainerRef}>{present.content}</Text>\n          <Uploader>{present.uploaderName ? `- ${present.uploaderName}` : null}</Uploader>\n        </TextWrap>\n      </SlideInner>\n    </>\n  );\n}\n\nfunction YoutubeSlide({ id, present }) {\n  return (\n    <SlideInner textOnly={false}>\n      <Upper isFull={!present.uploaderName}>\n        <iframe\n          width=\"100%\"\n          height=\"100%\"\n          src={`https://www.youtube.com/embed/${id}`}\n          title=\"YouTube video player\"\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n        ></iframe>\n      </Upper>\n      {present.uploaderName && (<Lower>\n        <Caption>\n          <Uploader>{`- ${present.uploaderName}`}</Uploader>\n        </Caption>\n      </Lower>)}\n    </SlideInner>\n  );\n}\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport {\n  Link,\n  useParams\n} from \"react-router-dom\";\nimport { Present } from \"../../types\";\nimport getJson from \"../../utils/api\";\nimport { createAndGetUserId } from \"../../utils/userId\";\nimport CalendarDay, { DOOR_ANIMATION_LENGTH } from \"../CalendarDay/CalendarDay\";\nimport styled from \"styled-components\";\nimport UploadForm from \"../UploadForm/UploadForm\";\nimport { DispatchContext, CalendarData, StateContext } from \"../DataProvider/DataProvider\";\nimport { getCurrentDay } from \"../../utils/getCurrentDay\";\nimport Presentation from \"../Presentation/Presentation\";\nimport { InlineButton } from \"../PresentListItem/PresentListItem\";\n\nconst Wrapper = styled.div`\n  margin: 2rem auto;\n  max-width: calc(calc(var(--size) + var(--margin)) * 4);\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Title = styled.h1`\n  font-family: 'Great Vibes', cursive;\n  font-weight: normal;\n  font-size: 5em;\n  @media screen and (max-width: 440px) {\n    font-size: 4em;\n  }\n  color: white; // hsl(145, 64%, 24%);\n  text-shadow: 2px 3px 5px rgba(50 50 50 / 0.6);\n  margin: 3rem 0 0;\n  padding: 0 0.5em;\n  width: 100%;\n  box-sizing: border-box;\n  text-align: center;\n`;\n\nconst Description = styled.div`\n  color: white; // hsl(145, 64%, 24%);\n  margin: 0 auto;\n  padding: 1em;\n  max-width: 700px;\n  text-align: center;\n\n  ${InlineButton} {\n    margin-left: 0;\n  }\n\n  a {\n    color: rgb(248, 178, 41);\n  }\n`;\n\nconst Row = styled.section`\n  width: calc(calc(var(--size) + var(--margin)) * 2);\n  height: calc(calc(var(--size) + var(--margin)) * 2);\n  @media screen and (max-width: 440px) {\n    margin-left: var(--margin);\n  }\n`;\n\nexport default function CalendarPage() {\n  const { uuid } = useParams();\n  const { calendarData } = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n  const [isUploadFormOpen, setIsUploadFormOpen] = useState(false);\n  const [isPresentationOpen, setIsPresentationOpen] = useState(false);\n  const [selectedDay, setSelectedDay] = useState<number | null>(null);\n  const userId = createAndGetUserId(uuid);\n\n  useEffect(() => {\n    if (uuid) {\n      getJson<CalendarData>('/calendar/' + uuid).then((presents: CalendarData) => {\n        dispatch({\n          type: 'SET_PRESENTS_DATA',\n          presentsData: presents\n        });\n      });\n    }\n  }, [dispatch, uuid]);\n\n  useEffect(() => {\n    if (uuid && userId) {\n      getJson<Present[]>('/calendar/' + uuid + '/' + userId).then((presents: Present[]) => {\n        dispatch({\n          type: 'SET_MYPRESENTS',\n          myPresents: presents\n        })\n      });\n    }\n  }, [dispatch, userId, uuid]);\n\n  useEffect(function scrollDayIntoView() {\n    const dayInDecember = getCurrentDay();\n    if (dayInDecember > -1) {\n      const currentDay = document.getElementById(`day_${dayInDecember}`);\n      if (currentDay) {\n        currentDay.scrollIntoView({behavior: 'smooth', block: 'center'});\n      }\n    }\n  }, []);\n\n  const closeUploadForm = useCallback(() => {\n    setIsUploadFormOpen(false);\n    setSelectedDay(null);\n  }, []);\n  const openUploadForm = useCallback(() => setIsUploadFormOpen(true), []);\n  const closePresentation = useCallback(() => {\n    setSelectedDay(null);\n    setIsPresentationOpen(false);\n  }, []);\n\n  const handleDayClick = useCallback((clickedDayNumber: number) => {\n    setSelectedDay(clickedDayNumber);\n    const dayInDecember = getCurrentDay();\n    if (dayInDecember >= clickedDayNumber && dayInDecember > -1) {\n      window.setTimeout(() => {\n        setIsPresentationOpen(true);\n      }, DOOR_ANIMATION_LENGTH);\n    } else {\n      window.setTimeout(() => {\n        openUploadForm();\n      }, DOOR_ANIMATION_LENGTH);\n    }\n\n  }, [openUploadForm]);\n\n  useEffect(() => {\n    if (selectedDay !== null) {\n      document.body.classList.add('noscroll');\n    }\n    return () => {\n      document.body.classList.remove('noscroll');\n    }\n  }, [selectedDay])\n\n  return (\n    <div>\n      {calendarData?.calendarName && <Title>{calendarData?.calendarName}</Title>}\n      <Description>\n        <p>Itt a közös online adventi naptáratok! Küldd tovább az oldal urljét azoknak, akikkel együtt szeretnéd várni a karácsonyt, majd <InlineButton onClick={openUploadForm}>tölts föl</InlineButton> meglepetéseket!</p>\n        <p>December minden napján látni fogjátok, ki mit töltött föl aznapra! Úgyhogy hajrá, tölts föl sok ajándékot, és ha szeretnél egy másik társasággal külön naptárat, <Link to=\"/\">kattints ide</Link>!</p>\n      </Description>\n      <Wrapper>\n        <Row>\n          <CalendarDay isSelected={selectedDay === 12} color=\"red\" dayNumber={12} icon=\"R\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 7} color=\"green\" dayNumber={7} icon=\"a\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 21} color=\"yellow\" dayNumber={21} icon=\"m\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 18} color=\"blue\" dayNumber={18} icon=\"i\" onClick={handleDayClick} />\n        </Row>\n        <Row>\n          <CalendarDay isSelected={selectedDay === 14} color=\"darkred\" dayNumber={14} dimensions=\"tall\" icon=\"g\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 2} color=\"yellow\" dayNumber={2} icon=\"x\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 9} color=\"blue\" dayNumber={9} icon=\"j\" onClick={handleDayClick} />\n        </Row>\n        <Row>\n          <CalendarDay isSelected={selectedDay === 1} color=\"purple\" dayNumber={1} dimensions=\"wide\" icon=\"A\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 17} color=\"beige\" dayNumber={17} icon=\"l\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 6} color=\"darkblue\" dayNumber={6} icon=\"p\" onClick={handleDayClick} />\n        </Row>\n        <Row>\n          <CalendarDay isSelected={selectedDay === 23} color=\"darkgreen\" dayNumber={23} dimensions=\"large\" icon=\"v\" onClick={handleDayClick} />\n        </Row>\n        <Row>\n          <CalendarDay isSelected={selectedDay === 8} color=\"blue\" dayNumber={8} icon=\"y\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 16} color=\"darkred\" dayNumber={16} icon=\"f\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 20} color=\"green\" dayNumber={20} dimensions=\"wide\" icon=\"O\" onClick={handleDayClick} />\n        </Row>\n        <Row>\n          <CalendarDay isSelected={selectedDay === 10} color=\"yellow\" dayNumber={10} icon=\"C\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 4} color=\"purple\" dayNumber={4} icon=\"V\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 0} color=\"blue\" dayNumber={0} icon=\"b\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 13} color=\"red\" dayNumber={13}  icon=\"H\" onClick={handleDayClick} />\n        </Row>\n        <Row>\n          <CalendarDay isSelected={selectedDay === 5} color=\"red\" dayNumber={5} dimensions=\"tall\" icon=\"s\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 15} color=\"darkblue\" dayNumber={15} icon=\"E\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 19} color=\"yellow\" dayNumber={19} icon=\"F\" onClick={handleDayClick} />\n        </Row>\n        <Row>\n          <CalendarDay isSelected={selectedDay === 22} color=\"beige\" dayNumber={22} dimensions=\"wide\" icon=\"X\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 11} color=\"darkred\" dayNumber={11} icon=\"c\" onClick={handleDayClick} />\n          <CalendarDay isSelected={selectedDay === 3} color=\"green\" dayNumber={3}  icon=\"T\" onClick={handleDayClick} />\n        </Row>\n      </Wrapper>\n\n      {isUploadFormOpen && (\n        <UploadForm\n          calendarId={uuid}\n          defaultSelectedDay={selectedDay}\n          onClose={closeUploadForm}\n        />\n      )}\n      {isPresentationOpen && (\n        <Presentation\n          dayNumber={selectedDay}\n          onClose={closePresentation}\n        />\n      )}\n    </div>\n  )\n}\n","import styled from 'styled-components';\n\nexport const HangingItem = styled.div<{ inForeground?: boolean; }>`\n  // start hanging items a bit above the viewport\n  position: absolute;\n  top: -50px;\n  left: 0;\n\n  z-index: ${props => props.inForeground ? 1 : -1};\n\n  // hanging animation\n  @keyframes hanging {\n    0%   { transform: rotate(5deg) translateZ(0px); }\n    100% { transform: rotate(-5deg) translateZ(0px); }\n  }\n  animation: ${props => props.inForeground ? '2s' : '1.5s'} ease-in-out infinite alternate hanging;\n\n  // this makes it \"hang\" from center - top (rotation center is at x: 50%, y: -100%)\n  transform-origin: 50% -100%;\n\n  // image within the hanging container\n  & svg {\n    height: 100%;\n    width: 15vw;\n    @media screen and (max-width: 440px) {\n      width: 20vw;\n    }\n    filter: ${props => props.inForeground ? 'drop-shadow(15px 10px 13px hsl(145deg 61% 16%))' : 'drop-shadow(5px 4px 4px hsl(145deg 61% 21%))'};\n  }\n\n  // this svg does not have a rope, so one is added via :after\n  &.withRope {\n    svg {\n      margin-top: 190px;\n    }\n    :after {\n      position: absolute;\n      left: 50%; // align center\n      top: 0; // start at top of svg\n      display: block;\n      content: '';\n      width: 2px;\n      height: 190px; // same as margin above svg\n      background-color: #9b9b9b;\n    }\n\n    @media screen and (max-width: 440px) {\n      svg {\n        margin-top: 100px;\n      }\n      :after {\n        height: 100px;\n      }\n    }\n  }\n`;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", null, \"\\r\\n    .st0{fill:#f9f7f7;stroke:#f7e7e7;stroke-width:2.0618}.st1{fill:#9f0d1e}.st2{fill:#80151b}.st3{fill:url(#SVGID_1_)}\\r\\n  \");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 82,\n  x2: 82,\n  y2: 229.6,\n  className: \"st0\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M82,209.1c11.5,0,47,74.9,47,81.4c0,6.5-94,7.3-94,0C35,283.2,70.5,209.1,82,209.1L82,209.1z\",\n  className: \"st1\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M82,260.5c14.2,0,58.2,92.9,58.2,101c0,8-116.3,9-116.3,0C23.8,352.5,67.8,260.5,82,260.5L82,260.5z\",\n  className: \"st1\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M82,300.8c20,0,82,130.8,82,142.1c0,11.3-163.9,12.7-163.9,0S61.9,300.8,82,300.8L82,300.8z\",\n  className: \"st2\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"SVGID_1_\",\n  x1: -12.8073,\n  x2: 125.8127,\n  y1: 252.0197,\n  y2: 520.3797,\n  gradientTransform: \"matrix(1 0 0 1 0.1401 -42.8096)\",\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.3583,\n  stopColor: \"#eeeeef\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0.9755,\n  stopColor: \"#c0c1c3\"\n}));\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M129.2,360.1c6.7-1,10.9-2.3,10.9-3.8c0-4.8-15.6-39.6-31.2-67.1c11.7-0.9,20-2.3,20-4.2 c0-6.5-35.5-81.4-47-81.4c-11.5,0-47,74.1-47,81.4c0,2.1,8.2,3.6,19.7,4.4c-15.5,27.2-30.9,61.6-30.9,66.9c0,1.7,4,3,10.5,4 C16,394.7,0,431.3,0,437.7c0,12.7,163.9,11.3,163.9,0C164,431.9,147.8,394.9,129.2,360.1L129.2,360.1z\",\n  className: \"st3\"\n});\n\nfunction SvgHangingChristmasTreeClipart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlSpace: \"preserve\",\n    id: \"tree\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 163.9 451.9\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHangingChristmasTreeClipart);\nexport default __webpack_public_path__ + \"static/media/hanging-christmas-tree-clipart.3a417b12.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"matrix(4 0 0 4 -.000016127 0)\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: 10,\n  height: 10,\n  x: 62.328,\n  y: 42.289,\n  fill: \"#ccc\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#666\",\n  d: \"m77.328 0-21 21v4l12 12h5v-5l-9-9 15-15 15 15-9 9v5h5l12-12v-4l-21-21h-4zm-16 41v14h36v-14h-36zm4 2h3v9h-3v-9z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#f78a24\",\n  d: \"m135.47 193.98a79.357 79.357 0 0 1 -112.23 0 79.357 79.357 0 0 1 -0.000002 -112.23 79.357 79.357 0 0 1 112.23 0.000012 79.357 79.357 0 0 1 0.00001 112.23z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#d53416\",\n  d: \"m14.217 109.21-12.526 12.53a79.357 79.357 0 0 0 -1.6387 14.271l14.164-14.164 12.633 12.631 6.3164 6.3164 18.947-18.947 18.947 18.947 18.949-18.947 12.631 12.631 6.3164 6.3164 18.947-18.947 18.949 18.947 11.348-11.348a79.357 79.357 0 0 0 -1.9258 -10.707l-9.4219 9.4219-18.949-18.947-6.3145 6.3164-12.633 12.631-18.947-18.947-18.949 18.947-18.947-18.947-6.3164 6.3164-12.631 12.631-18.949-18.947zm0 26.072-13.379 13.379a79.357 79.357 0 0 0 2.125 10.508l11.254-11.254 12.633 12.631 6.3164 6.3164 18.947-18.947 18.947 18.947 18.949-18.947 12.631 12.631 6.3164 6.3164 18.947-18.947 18.949 18.947 9.2754-9.2754a79.357 79.357 0 0 0 2.3438 -14.977l-11.619 11.619-18.949-18.947-6.3145 6.3164-12.633 12.631-18.947-18.947-18.949 18.947-18.947-18.947-6.3164 6.3164-12.631 12.631-18.949-18.947z\"\n}));\n\nfunction SvgSimpleChristmasBulbClipart(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 634.86,\n    height: 868.9,\n    viewBox: \"0 0 634.85694 868.898\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSimpleChristmasBulbClipart);\nexport default __webpack_public_path__ + \"static/media/simple-christmas-bulb-clipart.3a7db4e0.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useState } from 'react';\nimport { post } from '../../utils/api';\nimport { useNavigate } from \"react-router-dom\";\nimport { Calendar } from '../../types';\nimport styled, { createGlobalStyle } from 'styled-components';\n\nimport { HangingItem } from './HangingItem';\nimport { ReactComponent as ChristmasTree } from './hanging-christmas-tree-clipart.svg';\nimport { ReactComponent as ChristmasOrnament } from './simple-christmas-bulb-clipart.svg';\nimport { Button } from '../UploadForm/Button';\n\nconst BodyBackgroundOverride = createGlobalStyle`\n  body {\n    background-color: hsl(145deg 61% 29%);\n  }\n`;\n\nconst Page = styled.div`\n  margin: 0 auto;\n  width: 80%;\n`;\n\nconst Error = styled.p`\n  color: rgb(248, 178, 41);\n`;\n\nconst Title = styled.h1`\n  font-family: Christmas;\n  font-size: 20vw;\n  font-weight: 200;\n  width: 100%;\n  text-align: center;\n  margin-top: 20vh;\n  margin-bottom: 4rem;\n  text-shadow: 2px 2px 4px hsl(145deg 61% 21%);\n  color: #c8cbb9;\n`;\n\nconst TextContainer = styled.div`\n  width: 60%;\n  @media screen and (max-width: 440px) {\n    width: 80%;\n  }\n  margin: 0 auto 5em;\n`;\n\nconst Text = styled.p`\n  color: #c8cbb9;\n  font-size: 1.5em;\n  line-height: 1.65em;\n`;\n\nconst Input = styled.input`\n  outline: none;\n  border-radius: 5px;\n  border: none;\n  padding: 0.5em;\n  box-sizing: border-box;\n  width: 100%;\n  font-size: 2em;\n  font-family: inherit;\n  text-shadow: 1px 1px 2px rgba(50 50 50 / 0.5);\n  background-color: #dfe2d2;\n  color: hsl(145, 64%, 24%);\n  margin: 0.5em 0 0.5em;\n\n  &::placeholder {\n    color: rgba(10 10 10 / 0.5);\n    text-align: center;\n    padding-top: calc(50% - 10px);\n  }\n\n  &:active, &:focus {\n    &::placeholder {\n      color: transparent;\n      text-shadow: none;\n    }\n  }\n`;\n\nexport default function LandingPage() {\n  const navigate = useNavigate();\n  const [name, setName] = useState('');\n  const [error, setError] = useState('');\n  const [showTitleForm, setShowTitleForm] = useState(false);\n\n  const createCalendar = useCallback(() => {\n    if (name.length < 3 || name.length > 100) {\n      return setError('Kérlek 3 és 100 karakter közötti nevet adj meg!');\n    }\n    post<Calendar>('/create', { name }).then((calendar: Calendar) => {\n     navigate(`/${calendar.uuid}`);\n    })\n  }, [name, navigate]);\n\n  const enableUploadForm = useCallback(() => {\n    setShowTitleForm(showTitleForm => !showTitleForm);\n  }, []);\n\n  const handleNameChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    setError('');\n    setName(event.target.value)\n  }, []);\n\n  return (\n    <Page>\n      <BodyBackgroundOverride />\n\n      <Title>( Boldog )<br />( Karácsonyt! )</Title>\n\n      <HangingItem style={{ left: '70%', animationDelay: '0.3s' }} className=\"withRope\">\n        <ChristmasOrnament />\n      </HangingItem>\n\n      <HangingItem inForeground={true} style={{ left: '10%' }}>\n        <ChristmasTree />\n      </HangingItem>\n\n      <TextContainer>\n\n        {!showTitleForm && (\n          <>\n            <Text>Készíts te is saját naptárat! Hívd meg a barátaid, töltsetek fel egymásnak meglepetéseket, és várjátok együtt a karácsonyt!</Text>\n            <Button onClick={enableUploadForm}>Szeretnék egy saját naptárat!</Button>\n          </>\n        )}\n        {showTitleForm && (\n          <>\n            <Text>Add meg a naptárad címét, és a gombnyomás után máris kezdheted a feltöltést!<br />A naptárad publikus, de titkos URL mögött van. Ha valakivel közösen szeretnétek meglepni egymást, csak küldd el neki az URL-t, és ő is része lesz az ajándékozásnak!</Text>\n\n            <Input type=\"text\" value={name} placeholder=\"naptárad címe\" onChange={handleNameChange} /><br />\n            <Button onClick={createCalendar}>Mutasd a naptáram!</Button>\n          </>\n        )}\n\n        {error && (\n          <Error>\n            {error}\n          </Error>\n        )}\n      </TextContainer>\n    </Page>\n  )\n}\n","import React from 'react';\nimport { Routes, Route } from \"react-router-dom\";\nimport CalendarPage from './components/CalendarPage/CalendarPage';\nimport StateWrapper from './components/DataProvider/DataProvider';\nimport LandingPage from './components/Home/Home';\n\nfunction App() {\n  return (\n    <StateWrapper>\n      <Routes>\n        <Route path=\"/\" element={<LandingPage />} />\n        <Route path=\"/:uuid\" element={<CalendarPage />} />\n      </Routes>\n    </StateWrapper>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}